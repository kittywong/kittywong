<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Contrastive Learning with Continuous Proxy Meta-Data For 3D MRI Classification | MICCAI 2021 - Accepted Papers and Reviews</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Contrastive Learning with Continuous Proxy Meta-Data For 3D MRI Classification" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Benoit Dufumier, Pietro Gori, Julie Victor, Antoine Grigis, Michele Wessa, Paolo Brambilla, Pauline Favre, Mircea Polosan, Colm McDonald, Camille Marie Piguet, Mary Phillips, Lisa Eyler, Edouard Duchesnay Abstract Traditional supervised learning with deep neural networks requires a tremendous amount of labelled data to converge to a good solution. For 3D medical images, it is often impractical to build a large homogeneous annotated dataset for a specific pathology. Self-supervised methods offer a new way to learn a representation of the images in an unsupervised manner with a neural network. In particular, contrastive learning has shown great promises by (almost) matching the performance of fully-supervised CNN on vision tasks. Nonetheless, this method does not take advantage of available meta-data, such as participant’s age, viewed as prior knowledge. Here, we propose to leverage continuous \textit{proxy} metadata, in the contrastive learning framework, by introducing a new loss called $y$-Aware InfoNCE loss. Specifically, we improve the positive sampling during pre-training by adding more positive examples with similar \textit{proxy} meta-data with the anchor, assuming they share similar discriminative semantic features. With our method, a 3D CNN model pre-trained on $10^4$ multi-site healthy brain MRI scans can extract relevant features for three classification tasks: schizophrenia, bipolar diagnosis and Alzheimer’s detection. When fine-tuned, it also outperforms 3D CNN trained from scratch on these tasks, as well as state-of-the-art self-supervised methods. Our code is made publicly available \href{https://github.com/Duplums/yAwareContrastiveLearning}{here} Link to paper https://doi.org/10.1007/978-3-030-87196-3_6 Link to the code repository https://github.com/Duplums/yAwareContrastiveLearning Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The paper proposes a novel approach to contrastive learning for 3D MRI classification that takes metadata into account to improve positive sampling. Samples that are similar according to the metadata will be embedded closer in the embedding space, providing a means of controlling the embedding. Experiments illustrate that a model pre-trained on a large set of 3D T1 MRI brain scans, achieves promising performance on three binary classification benchmark datasets when given age as meta-data. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The way of including metadata into the contrastive loss is novel and interesting and suits the presented application setting well. The paper is well written/organized, the problem well motivated, and achieves considerable improvements over the presented baselines. Extensive experiments are conducted to validate the benefit. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The method section should be expanded slightly. It is unclear, if minimising the proposed loss in (3) is still maximising a lower bound on the mutual information (conditioned on y). A baseline that combines the “standard” InfoNCE loss SimCLR with an additional l1 loss for the age prediction (on-top of the representation), to see if a simple multi-task learning approach could achieve as useful or more useful representations. This is especially relevant since the age prediction with data augmentation performs comparable to the proposed method. Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance While code is not provided, the authors state that code will be provided upon acceptance. Overall, relevant implementation details are provided in sufficient detail in the manuscript. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html In addition to the comments in 4), I was wondering why all experiments in Table 1 are performed on 20% for the majority of datasets, while for the AD vs HC case, you consider 30%. Also, several of the references that you cite as arXiv papers have been published and the references should be updated accordingly. Note also, RBF stands for Radial basis function. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Despite the weaknesses outlined above, I believe that the use of metadata to control the embedding space is appealing and will be of interest for the MICCAI community, where contrastive learning approaches are applied extensively. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 4 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper The authors introduce a self-supervised leasrning proceadure that takes advantage of the meta-data available in the dataset. Through this procedure they increase the positive examples with similar proxy meta-data such as age with the anchor sample. The assumption is that these examples share similar semantic features. The authors propose a new loss, the y-Aware InfoNCE, which weights the infoNCE log term with a mean RBF value between the anchor’s meta-data (age) and positive and negative pairs considered in contrastive learning. Thereby the authors aim to solve the inherent issue in contrastive learning of same class images (but not exact same) being pushed apart as any other negative sample coming from different classes. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The paper uses available meta-data in self-supervised learning. These meta-data are most of the time already available in medical imaging datasets. This paper proposes an interesting way to integrate prior knowledge in form of meta data. paper is easy to read good ablation studies Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. -The biggest weakness of the paper is lack of comparison with more contrastive learning (or non contrastive such as BYOL) methods. Over the past year many contrastive learning methods have been proposed and it seems the authors only make the comparison with SimCLR. - Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance It is sufficiently good. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Compare with more contrastive methods and BYOL like methods standard deviation and uncertainty experiments are conducted on cross validation, while seed averages might be of better help -Final results after fine-tuning with confidence intervals of +/- 3.7 points, makes the statistical validation questionable. In addition nothing can be concluded on BD and AD sickness of Contrastive Learning &amp; age prediction against simple age prediction. Based on Table1, it seems that compared to SimCLR alone, age prediction alone is much more beneficial, and its not clear whether using simclr with age prediction makes an improvement to age prediction. I think a missing baseline is to see if ensemble of a model fine tuned on age prediction and simclr would perform worse than the proposed weighted contrastive learning. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Even though I think experiments and baselines are not complete, but I like the general idea and I think its novel. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper This work presents a novel contrastive learning method for 3D MRI classification tasks. The authors explore a way to incorporate available continuous meta-data (such as patient’s age) into the existing contrastive learning framework by introducing a new loss function, termed y-Aware InfoNCE loss. The effectiveness of the proposed method is evaluated on multiple public MRI datasets (such as BHB, SCHIZCONNECT-VIP, BIOBD, BSNIP, ADNI-GO). The reviewer appreciates the novelty of this work while having concerns about the experimental results. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Leveraging meta-data for contrastive learning in medical image tasks is an essential yet not fully explored topic. This work proposes a novel y-Aware loss to incorporate this information into the learning process, which has scientific merits for this community; The methodology is well presented and easy to follow; Ablation study for the hyper-parameter sigma is helpful to understand the behavior of the proposed method; Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. In Table 1, it seems with DenseNet, the proposed Age-Aware Contrastive Learning doesn’t significantly outperform (or even lower than) the simple Age Prediction pre-training on some categories. Can you provide more discussion and insight on this result? Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone? The authors only validate the proposed method on MRI data. As it’s a general method for medical image tasks, more imaging modalities (such as X-rays) should also be evaluated; Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The experimental settings are introduced in the paper. And the authors will release the code. So the reproducibility should be good. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html The authors should further improve the organization of the experiment part. For example, the numbering formats are not consistent. The subsection Evaluation of the representation uses the format of 1-, 2-…, while the subsection of Importance of σ and T in the positive sampling uses the format of i), ii)…; To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary to compare the embedding distance of some exemplars; The fonts in Fig 2 are too small to read, and the authors should make the fonts larger; The authors should improve the writing of the experiment. Please ensure the experimental settings are well introduced. For example, what does the meaning of “D.A” in Table 1? Please cite “Vu, Yen Nhi Truong, Richard Wang, Niranjan Balachandar, Can Liu, Andrew Y. Ng, and Pranav Rajpurkar. “MedAug: Contrastive learning leveraging patient metadata improves representations for chest X-ray interpretation.” arXiv preprint arXiv:2102.10663 (2021)” as a relevant work for incorporating meta-data for contrastive learning in medical image tasks; Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? My initial rating primarily based on the novelty of this work and the concerns about the experimental results. What is the ranking of this paper in your review stack? 2 Number of papers in your stack 6 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. This submission proposes a novel y-Aware loss that leverages continuous proxy metadata in the constrastive learning framework to improve the performance of the self-supervised method for 3D MRI classification. All the reviewers have positive comments on the novelty of the proposed method and the writing of the manuscript. The reviewers have concerns about experiment design, comparative experiments and experimental results, etc. The authors are suggested to address those questions in the rebuttal letter. Other questions should be addressed if space allows. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 5 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. Most of the concerns have been addressed in the rebuttal period. Updates reported in the rebuttal letter should be included in the final version. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The authors have addressed the reivewers concerns in their rebuttal. They are encouraged to address the concerns in their final paper too. There are novel compoenets in the method design. The proposed method builds upon several recent works on contrastive learning. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 4 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. It is clear that the paper has an interesting novel technical contribution. Adding meta-data to a contrastive loss is well appreciated by all the reviewers. All reviewers requested additional experiments. Authors answered them well in their rebuttal. These additional experiments definitely improves the quality of the article. I believe their addition should not be very difficult in the paper. I do not agree with R4’s comment regarding the need to demonstrate on x-ray images and citing a pre-print on the same topic. Overall, the paper proposes an interesting idea and presents a large experimental validation. Adding more prior work in this comparison improves the quality even further. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 9 Author Feedback We thank the Reviewers (R1, R2, R4) for their insightful comments which, we hope, will help us to improve the quality of the paper. (R1: A baseline that combines SimCLR with age prediction&quot; + R2:…it is not clear whether using simclr with age prediction makes an improvement.”). As suggested by R1 and R2, we have added a new multi-task approach combining SimCLR and age regression. We have updated Fig. 2 accordingly and added the following sentence “… compared to the multi-task approach SimCLR+Age, the features extracted by our method are less sensitive to the site where images come from. This shows that our technique is the only one that efficiently uses the BHB dataset by making the features learnt during pre-training less correlated to the acquisition sites.” In the updated Fig.2-b, we outperform by &gt;+5% AUC SimCLR+Age on AD vs HC and SCZ vs HC and &gt;2.5%AUC on BIP vs HC. (R2: ”Compare with contrastive methods and BYOL”) As recommended by R2, we have included the results of: MoCo (contrastive method) and BYOL (non-contrastive method). We have updated Fig.2 accordingly. Similarly to SimCLR, results are significantly worse than the proposed method (-8% AUC for SCZ vs HC and AD vs HC in Fig.2-b). (R4: “Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone?”) We thank R4 for pointing this out, we have added in Table 1 Age Prediction with Data Augmentation also for UNet. As for DenseNet, our pre-training remains better or similar to age supervision (+1% AUC on AD vs HC and +0.5% AUC for SCZ vs HC). (R1: “… minimising the proposed loss is still maximising a lower bound on the mutual information…”) We agree with R1 that this is an important question. We are actually working on it and it seems that the proposed loss is indeed maximising a lower bound on the conditional mutual information. We plan to address this point, giving more mathematical details, in a future journal extension. (R1: “While code is not provided…” + R4: “And the authors will release the code.”) As written in the abstract and p.5, our code is already publicly available in an anonymous repository. (R1: “ why all experiments in Table 1 are performed on 20% …, while for the AD vs HC … 30%) We originally used 20% and 30% for the two data-sets respectively since we wanted the same number of subjects in both cases (N=100). We clarified this point by writing the absolute number of training subjects used for fine-tuning. (R1: “Several of the arxiv references… have been published” + R4: “Please cite … as a relevant work”) We thank the Reviewers for pointing this out. We have modified the paper accordingly. (R2: “Final results after fine-tuning makes the statistical validation questionable” and R4: “it seems the proposed method doesn’t significantly outperform Age Prediction”) We agree that the proposed method is not stat. sign. better than age prediction when fine-tuned on the same site. However, the main contribution of the paper is methodological. We propose a technique to leverage continuous (and categorical) proxy metadata with SimCLR. We will investigate in future whether the combination of other metadata (e.g. sex) can improve the performance of our representation. (R4: “The authors only validate the proposed method on MRI data”) Here, we focused on 3 different neuroimaging applications using more than 10K MRI data. The extension to other modalities (e.g. X-ray) is left for future work. (R4: “ the numbering formats are not consistent” + “The fonts in Fig 2 are too small to read” + “The authors should improve the writing of the experiment”) We have modified these points as suggested in the updated version. (R4: “To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary”) We agree with R4. We added in the Supplementary a figure comparing a 2D UMAP representation of the features learnt with our model vs SimCLR, confirming our claim. back to top" />
<meta property="og:description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Benoit Dufumier, Pietro Gori, Julie Victor, Antoine Grigis, Michele Wessa, Paolo Brambilla, Pauline Favre, Mircea Polosan, Colm McDonald, Camille Marie Piguet, Mary Phillips, Lisa Eyler, Edouard Duchesnay Abstract Traditional supervised learning with deep neural networks requires a tremendous amount of labelled data to converge to a good solution. For 3D medical images, it is often impractical to build a large homogeneous annotated dataset for a specific pathology. Self-supervised methods offer a new way to learn a representation of the images in an unsupervised manner with a neural network. In particular, contrastive learning has shown great promises by (almost) matching the performance of fully-supervised CNN on vision tasks. Nonetheless, this method does not take advantage of available meta-data, such as participant’s age, viewed as prior knowledge. Here, we propose to leverage continuous \textit{proxy} metadata, in the contrastive learning framework, by introducing a new loss called $y$-Aware InfoNCE loss. Specifically, we improve the positive sampling during pre-training by adding more positive examples with similar \textit{proxy} meta-data with the anchor, assuming they share similar discriminative semantic features. With our method, a 3D CNN model pre-trained on $10^4$ multi-site healthy brain MRI scans can extract relevant features for three classification tasks: schizophrenia, bipolar diagnosis and Alzheimer’s detection. When fine-tuned, it also outperforms 3D CNN trained from scratch on these tasks, as well as state-of-the-art self-supervised methods. Our code is made publicly available \href{https://github.com/Duplums/yAwareContrastiveLearning}{here} Link to paper https://doi.org/10.1007/978-3-030-87196-3_6 Link to the code repository https://github.com/Duplums/yAwareContrastiveLearning Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The paper proposes a novel approach to contrastive learning for 3D MRI classification that takes metadata into account to improve positive sampling. Samples that are similar according to the metadata will be embedded closer in the embedding space, providing a means of controlling the embedding. Experiments illustrate that a model pre-trained on a large set of 3D T1 MRI brain scans, achieves promising performance on three binary classification benchmark datasets when given age as meta-data. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The way of including metadata into the contrastive loss is novel and interesting and suits the presented application setting well. The paper is well written/organized, the problem well motivated, and achieves considerable improvements over the presented baselines. Extensive experiments are conducted to validate the benefit. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The method section should be expanded slightly. It is unclear, if minimising the proposed loss in (3) is still maximising a lower bound on the mutual information (conditioned on y). A baseline that combines the “standard” InfoNCE loss SimCLR with an additional l1 loss for the age prediction (on-top of the representation), to see if a simple multi-task learning approach could achieve as useful or more useful representations. This is especially relevant since the age prediction with data augmentation performs comparable to the proposed method. Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance While code is not provided, the authors state that code will be provided upon acceptance. Overall, relevant implementation details are provided in sufficient detail in the manuscript. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html In addition to the comments in 4), I was wondering why all experiments in Table 1 are performed on 20% for the majority of datasets, while for the AD vs HC case, you consider 30%. Also, several of the references that you cite as arXiv papers have been published and the references should be updated accordingly. Note also, RBF stands for Radial basis function. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Despite the weaknesses outlined above, I believe that the use of metadata to control the embedding space is appealing and will be of interest for the MICCAI community, where contrastive learning approaches are applied extensively. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 4 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper The authors introduce a self-supervised leasrning proceadure that takes advantage of the meta-data available in the dataset. Through this procedure they increase the positive examples with similar proxy meta-data such as age with the anchor sample. The assumption is that these examples share similar semantic features. The authors propose a new loss, the y-Aware InfoNCE, which weights the infoNCE log term with a mean RBF value between the anchor’s meta-data (age) and positive and negative pairs considered in contrastive learning. Thereby the authors aim to solve the inherent issue in contrastive learning of same class images (but not exact same) being pushed apart as any other negative sample coming from different classes. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The paper uses available meta-data in self-supervised learning. These meta-data are most of the time already available in medical imaging datasets. This paper proposes an interesting way to integrate prior knowledge in form of meta data. paper is easy to read good ablation studies Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. -The biggest weakness of the paper is lack of comparison with more contrastive learning (or non contrastive such as BYOL) methods. Over the past year many contrastive learning methods have been proposed and it seems the authors only make the comparison with SimCLR. - Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance It is sufficiently good. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Compare with more contrastive methods and BYOL like methods standard deviation and uncertainty experiments are conducted on cross validation, while seed averages might be of better help -Final results after fine-tuning with confidence intervals of +/- 3.7 points, makes the statistical validation questionable. In addition nothing can be concluded on BD and AD sickness of Contrastive Learning &amp; age prediction against simple age prediction. Based on Table1, it seems that compared to SimCLR alone, age prediction alone is much more beneficial, and its not clear whether using simclr with age prediction makes an improvement to age prediction. I think a missing baseline is to see if ensemble of a model fine tuned on age prediction and simclr would perform worse than the proposed weighted contrastive learning. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Even though I think experiments and baselines are not complete, but I like the general idea and I think its novel. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper This work presents a novel contrastive learning method for 3D MRI classification tasks. The authors explore a way to incorporate available continuous meta-data (such as patient’s age) into the existing contrastive learning framework by introducing a new loss function, termed y-Aware InfoNCE loss. The effectiveness of the proposed method is evaluated on multiple public MRI datasets (such as BHB, SCHIZCONNECT-VIP, BIOBD, BSNIP, ADNI-GO). The reviewer appreciates the novelty of this work while having concerns about the experimental results. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Leveraging meta-data for contrastive learning in medical image tasks is an essential yet not fully explored topic. This work proposes a novel y-Aware loss to incorporate this information into the learning process, which has scientific merits for this community; The methodology is well presented and easy to follow; Ablation study for the hyper-parameter sigma is helpful to understand the behavior of the proposed method; Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. In Table 1, it seems with DenseNet, the proposed Age-Aware Contrastive Learning doesn’t significantly outperform (or even lower than) the simple Age Prediction pre-training on some categories. Can you provide more discussion and insight on this result? Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone? The authors only validate the proposed method on MRI data. As it’s a general method for medical image tasks, more imaging modalities (such as X-rays) should also be evaluated; Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The experimental settings are introduced in the paper. And the authors will release the code. So the reproducibility should be good. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html The authors should further improve the organization of the experiment part. For example, the numbering formats are not consistent. The subsection Evaluation of the representation uses the format of 1-, 2-…, while the subsection of Importance of σ and T in the positive sampling uses the format of i), ii)…; To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary to compare the embedding distance of some exemplars; The fonts in Fig 2 are too small to read, and the authors should make the fonts larger; The authors should improve the writing of the experiment. Please ensure the experimental settings are well introduced. For example, what does the meaning of “D.A” in Table 1? Please cite “Vu, Yen Nhi Truong, Richard Wang, Niranjan Balachandar, Can Liu, Andrew Y. Ng, and Pranav Rajpurkar. “MedAug: Contrastive learning leveraging patient metadata improves representations for chest X-ray interpretation.” arXiv preprint arXiv:2102.10663 (2021)” as a relevant work for incorporating meta-data for contrastive learning in medical image tasks; Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? My initial rating primarily based on the novelty of this work and the concerns about the experimental results. What is the ranking of this paper in your review stack? 2 Number of papers in your stack 6 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. This submission proposes a novel y-Aware loss that leverages continuous proxy metadata in the constrastive learning framework to improve the performance of the self-supervised method for 3D MRI classification. All the reviewers have positive comments on the novelty of the proposed method and the writing of the manuscript. The reviewers have concerns about experiment design, comparative experiments and experimental results, etc. The authors are suggested to address those questions in the rebuttal letter. Other questions should be addressed if space allows. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 5 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. Most of the concerns have been addressed in the rebuttal period. Updates reported in the rebuttal letter should be included in the final version. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The authors have addressed the reivewers concerns in their rebuttal. They are encouraged to address the concerns in their final paper too. There are novel compoenets in the method design. The proposed method builds upon several recent works on contrastive learning. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 4 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. It is clear that the paper has an interesting novel technical contribution. Adding meta-data to a contrastive loss is well appreciated by all the reviewers. All reviewers requested additional experiments. Authors answered them well in their rebuttal. These additional experiments definitely improves the quality of the article. I believe their addition should not be very difficult in the paper. I do not agree with R4’s comment regarding the need to demonstrate on x-ray images and citing a pre-print on the same topic. Overall, the paper proposes an interesting idea and presents a large experimental validation. Adding more prior work in this comparison improves the quality even further. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 9 Author Feedback We thank the Reviewers (R1, R2, R4) for their insightful comments which, we hope, will help us to improve the quality of the paper. (R1: A baseline that combines SimCLR with age prediction&quot; + R2:…it is not clear whether using simclr with age prediction makes an improvement.”). As suggested by R1 and R2, we have added a new multi-task approach combining SimCLR and age regression. We have updated Fig. 2 accordingly and added the following sentence “… compared to the multi-task approach SimCLR+Age, the features extracted by our method are less sensitive to the site where images come from. This shows that our technique is the only one that efficiently uses the BHB dataset by making the features learnt during pre-training less correlated to the acquisition sites.” In the updated Fig.2-b, we outperform by &gt;+5% AUC SimCLR+Age on AD vs HC and SCZ vs HC and &gt;2.5%AUC on BIP vs HC. (R2: ”Compare with contrastive methods and BYOL”) As recommended by R2, we have included the results of: MoCo (contrastive method) and BYOL (non-contrastive method). We have updated Fig.2 accordingly. Similarly to SimCLR, results are significantly worse than the proposed method (-8% AUC for SCZ vs HC and AD vs HC in Fig.2-b). (R4: “Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone?”) We thank R4 for pointing this out, we have added in Table 1 Age Prediction with Data Augmentation also for UNet. As for DenseNet, our pre-training remains better or similar to age supervision (+1% AUC on AD vs HC and +0.5% AUC for SCZ vs HC). (R1: “… minimising the proposed loss is still maximising a lower bound on the mutual information…”) We agree with R1 that this is an important question. We are actually working on it and it seems that the proposed loss is indeed maximising a lower bound on the conditional mutual information. We plan to address this point, giving more mathematical details, in a future journal extension. (R1: “While code is not provided…” + R4: “And the authors will release the code.”) As written in the abstract and p.5, our code is already publicly available in an anonymous repository. (R1: “ why all experiments in Table 1 are performed on 20% …, while for the AD vs HC … 30%) We originally used 20% and 30% for the two data-sets respectively since we wanted the same number of subjects in both cases (N=100). We clarified this point by writing the absolute number of training subjects used for fine-tuning. (R1: “Several of the arxiv references… have been published” + R4: “Please cite … as a relevant work”) We thank the Reviewers for pointing this out. We have modified the paper accordingly. (R2: “Final results after fine-tuning makes the statistical validation questionable” and R4: “it seems the proposed method doesn’t significantly outperform Age Prediction”) We agree that the proposed method is not stat. sign. better than age prediction when fine-tuned on the same site. However, the main contribution of the paper is methodological. We propose a technique to leverage continuous (and categorical) proxy metadata with SimCLR. We will investigate in future whether the combination of other metadata (e.g. sex) can improve the performance of our representation. (R4: “The authors only validate the proposed method on MRI data”) Here, we focused on 3 different neuroimaging applications using more than 10K MRI data. The extension to other modalities (e.g. X-ray) is left for future work. (R4: “ the numbering formats are not consistent” + “The fonts in Fig 2 are too small to read” + “The authors should improve the writing of the experiment”) We have modified these points as suggested in the updated version. (R4: “To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary”) We agree with R4. We added in the Supplementary a figure comparing a 2D UMAP representation of the features learnt with our model vs SimCLR, confirming our claim. back to top" />
<link rel="canonical" href="https://kittywong.github.io/kittywong/0205/12/31/Paper0382" />
<meta property="og:url" content="https://kittywong.github.io/kittywong/0205/12/31/Paper0382" />
<meta property="og:site_name" content="MICCAI 2021 - Accepted Papers and Reviews" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="0205-12-31T23:58:56-05:17" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Contrastive Learning with Continuous Proxy Meta-Data For 3D MRI Classification" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://kittywong.github.io/kittywong/0205/12/31/Paper0382"},"@type":"BlogPosting","url":"https://kittywong.github.io/kittywong/0205/12/31/Paper0382","headline":"Contrastive Learning with Continuous Proxy Meta-Data For 3D MRI Classification","dateModified":"0206-01-01T00:00:00-05:17","datePublished":"0205-12-31T23:58:56-05:17","description":"Paper Info Reviews Meta-review(s) Author Feedback Authors Benoit Dufumier, Pietro Gori, Julie Victor, Antoine Grigis, Michele Wessa, Paolo Brambilla, Pauline Favre, Mircea Polosan, Colm McDonald, Camille Marie Piguet, Mary Phillips, Lisa Eyler, Edouard Duchesnay Abstract Traditional supervised learning with deep neural networks requires a tremendous amount of labelled data to converge to a good solution. For 3D medical images, it is often impractical to build a large homogeneous annotated dataset for a specific pathology. Self-supervised methods offer a new way to learn a representation of the images in an unsupervised manner with a neural network. In particular, contrastive learning has shown great promises by (almost) matching the performance of fully-supervised CNN on vision tasks. Nonetheless, this method does not take advantage of available meta-data, such as participant’s age, viewed as prior knowledge. Here, we propose to leverage continuous \\textit{proxy} metadata, in the contrastive learning framework, by introducing a new loss called $y$-Aware InfoNCE loss. Specifically, we improve the positive sampling during pre-training by adding more positive examples with similar \\textit{proxy} meta-data with the anchor, assuming they share similar discriminative semantic features. With our method, a 3D CNN model pre-trained on $10^4$ multi-site healthy brain MRI scans can extract relevant features for three classification tasks: schizophrenia, bipolar diagnosis and Alzheimer’s detection. When fine-tuned, it also outperforms 3D CNN trained from scratch on these tasks, as well as state-of-the-art self-supervised methods. Our code is made publicly available \\href{https://github.com/Duplums/yAwareContrastiveLearning}{here} Link to paper https://doi.org/10.1007/978-3-030-87196-3_6 Link to the code repository https://github.com/Duplums/yAwareContrastiveLearning Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The paper proposes a novel approach to contrastive learning for 3D MRI classification that takes metadata into account to improve positive sampling. Samples that are similar according to the metadata will be embedded closer in the embedding space, providing a means of controlling the embedding. Experiments illustrate that a model pre-trained on a large set of 3D T1 MRI brain scans, achieves promising performance on three binary classification benchmark datasets when given age as meta-data. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The way of including metadata into the contrastive loss is novel and interesting and suits the presented application setting well. The paper is well written/organized, the problem well motivated, and achieves considerable improvements over the presented baselines. Extensive experiments are conducted to validate the benefit. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The method section should be expanded slightly. It is unclear, if minimising the proposed loss in (3) is still maximising a lower bound on the mutual information (conditioned on y). A baseline that combines the “standard” InfoNCE loss SimCLR with an additional l1 loss for the age prediction (on-top of the representation), to see if a simple multi-task learning approach could achieve as useful or more useful representations. This is especially relevant since the age prediction with data augmentation performs comparable to the proposed method. Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance While code is not provided, the authors state that code will be provided upon acceptance. Overall, relevant implementation details are provided in sufficient detail in the manuscript. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html In addition to the comments in 4), I was wondering why all experiments in Table 1 are performed on 20% for the majority of datasets, while for the AD vs HC case, you consider 30%. Also, several of the references that you cite as arXiv papers have been published and the references should be updated accordingly. Note also, RBF stands for Radial basis function. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Despite the weaknesses outlined above, I believe that the use of metadata to control the embedding space is appealing and will be of interest for the MICCAI community, where contrastive learning approaches are applied extensively. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 4 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper The authors introduce a self-supervised leasrning proceadure that takes advantage of the meta-data available in the dataset. Through this procedure they increase the positive examples with similar proxy meta-data such as age with the anchor sample. The assumption is that these examples share similar semantic features. The authors propose a new loss, the y-Aware InfoNCE, which weights the infoNCE log term with a mean RBF value between the anchor’s meta-data (age) and positive and negative pairs considered in contrastive learning. Thereby the authors aim to solve the inherent issue in contrastive learning of same class images (but not exact same) being pushed apart as any other negative sample coming from different classes. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The paper uses available meta-data in self-supervised learning. These meta-data are most of the time already available in medical imaging datasets. This paper proposes an interesting way to integrate prior knowledge in form of meta data. paper is easy to read good ablation studies Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. -The biggest weakness of the paper is lack of comparison with more contrastive learning (or non contrastive such as BYOL) methods. Over the past year many contrastive learning methods have been proposed and it seems the authors only make the comparison with SimCLR. - Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance It is sufficiently good. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Compare with more contrastive methods and BYOL like methods standard deviation and uncertainty experiments are conducted on cross validation, while seed averages might be of better help -Final results after fine-tuning with confidence intervals of +/- 3.7 points, makes the statistical validation questionable. In addition nothing can be concluded on BD and AD sickness of Contrastive Learning &amp; age prediction against simple age prediction. Based on Table1, it seems that compared to SimCLR alone, age prediction alone is much more beneficial, and its not clear whether using simclr with age prediction makes an improvement to age prediction. I think a missing baseline is to see if ensemble of a model fine tuned on age prediction and simclr would perform worse than the proposed weighted contrastive learning. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Even though I think experiments and baselines are not complete, but I like the general idea and I think its novel. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper This work presents a novel contrastive learning method for 3D MRI classification tasks. The authors explore a way to incorporate available continuous meta-data (such as patient’s age) into the existing contrastive learning framework by introducing a new loss function, termed y-Aware InfoNCE loss. The effectiveness of the proposed method is evaluated on multiple public MRI datasets (such as BHB, SCHIZCONNECT-VIP, BIOBD, BSNIP, ADNI-GO). The reviewer appreciates the novelty of this work while having concerns about the experimental results. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Leveraging meta-data for contrastive learning in medical image tasks is an essential yet not fully explored topic. This work proposes a novel y-Aware loss to incorporate this information into the learning process, which has scientific merits for this community; The methodology is well presented and easy to follow; Ablation study for the hyper-parameter sigma is helpful to understand the behavior of the proposed method; Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. In Table 1, it seems with DenseNet, the proposed Age-Aware Contrastive Learning doesn’t significantly outperform (or even lower than) the simple Age Prediction pre-training on some categories. Can you provide more discussion and insight on this result? Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone? The authors only validate the proposed method on MRI data. As it’s a general method for medical image tasks, more imaging modalities (such as X-rays) should also be evaluated; Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The experimental settings are introduced in the paper. And the authors will release the code. So the reproducibility should be good. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html The authors should further improve the organization of the experiment part. For example, the numbering formats are not consistent. The subsection Evaluation of the representation uses the format of 1-, 2-…, while the subsection of Importance of σ and T in the positive sampling uses the format of i), ii)…; To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary to compare the embedding distance of some exemplars; The fonts in Fig 2 are too small to read, and the authors should make the fonts larger; The authors should improve the writing of the experiment. Please ensure the experimental settings are well introduced. For example, what does the meaning of “D.A” in Table 1? Please cite “Vu, Yen Nhi Truong, Richard Wang, Niranjan Balachandar, Can Liu, Andrew Y. Ng, and Pranav Rajpurkar. “MedAug: Contrastive learning leveraging patient metadata improves representations for chest X-ray interpretation.” arXiv preprint arXiv:2102.10663 (2021)” as a relevant work for incorporating meta-data for contrastive learning in medical image tasks; Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? My initial rating primarily based on the novelty of this work and the concerns about the experimental results. What is the ranking of this paper in your review stack? 2 Number of papers in your stack 6 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. This submission proposes a novel y-Aware loss that leverages continuous proxy metadata in the constrastive learning framework to improve the performance of the self-supervised method for 3D MRI classification. All the reviewers have positive comments on the novelty of the proposed method and the writing of the manuscript. The reviewers have concerns about experiment design, comparative experiments and experimental results, etc. The authors are suggested to address those questions in the rebuttal letter. Other questions should be addressed if space allows. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 5 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. Most of the concerns have been addressed in the rebuttal period. Updates reported in the rebuttal letter should be included in the final version. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The authors have addressed the reivewers concerns in their rebuttal. They are encouraged to address the concerns in their final paper too. There are novel compoenets in the method design. The proposed method builds upon several recent works on contrastive learning. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 4 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. It is clear that the paper has an interesting novel technical contribution. Adding meta-data to a contrastive loss is well appreciated by all the reviewers. All reviewers requested additional experiments. Authors answered them well in their rebuttal. These additional experiments definitely improves the quality of the article. I believe their addition should not be very difficult in the paper. I do not agree with R4’s comment regarding the need to demonstrate on x-ray images and citing a pre-print on the same topic. Overall, the paper proposes an interesting idea and presents a large experimental validation. Adding more prior work in this comparison improves the quality even further. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 9 Author Feedback We thank the Reviewers (R1, R2, R4) for their insightful comments which, we hope, will help us to improve the quality of the paper. (R1: A baseline that combines SimCLR with age prediction&quot; + R2:…it is not clear whether using simclr with age prediction makes an improvement.”). As suggested by R1 and R2, we have added a new multi-task approach combining SimCLR and age regression. We have updated Fig. 2 accordingly and added the following sentence “… compared to the multi-task approach SimCLR+Age, the features extracted by our method are less sensitive to the site where images come from. This shows that our technique is the only one that efficiently uses the BHB dataset by making the features learnt during pre-training less correlated to the acquisition sites.” In the updated Fig.2-b, we outperform by &gt;+5% AUC SimCLR+Age on AD vs HC and SCZ vs HC and &gt;2.5%AUC on BIP vs HC. (R2: ”Compare with contrastive methods and BYOL”) As recommended by R2, we have included the results of: MoCo (contrastive method) and BYOL (non-contrastive method). We have updated Fig.2 accordingly. Similarly to SimCLR, results are significantly worse than the proposed method (-8% AUC for SCZ vs HC and AD vs HC in Fig.2-b). (R4: “Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone?”) We thank R4 for pointing this out, we have added in Table 1 Age Prediction with Data Augmentation also for UNet. As for DenseNet, our pre-training remains better or similar to age supervision (+1% AUC on AD vs HC and +0.5% AUC for SCZ vs HC). (R1: “… minimising the proposed loss is still maximising a lower bound on the mutual information…”) We agree with R1 that this is an important question. We are actually working on it and it seems that the proposed loss is indeed maximising a lower bound on the conditional mutual information. We plan to address this point, giving more mathematical details, in a future journal extension. (R1: “While code is not provided…” + R4: “And the authors will release the code.”) As written in the abstract and p.5, our code is already publicly available in an anonymous repository. (R1: “ why all experiments in Table 1 are performed on 20% …, while for the AD vs HC … 30%) We originally used 20% and 30% for the two data-sets respectively since we wanted the same number of subjects in both cases (N=100). We clarified this point by writing the absolute number of training subjects used for fine-tuning. (R1: “Several of the arxiv references… have been published” + R4: “Please cite … as a relevant work”) We thank the Reviewers for pointing this out. We have modified the paper accordingly. (R2: “Final results after fine-tuning makes the statistical validation questionable” and R4: “it seems the proposed method doesn’t significantly outperform Age Prediction”) We agree that the proposed method is not stat. sign. better than age prediction when fine-tuned on the same site. However, the main contribution of the paper is methodological. We propose a technique to leverage continuous (and categorical) proxy metadata with SimCLR. We will investigate in future whether the combination of other metadata (e.g. sex) can improve the performance of our representation. (R4: “The authors only validate the proposed method on MRI data”) Here, we focused on 3 different neuroimaging applications using more than 10K MRI data. The extension to other modalities (e.g. X-ray) is left for future work. (R4: “ the numbering formats are not consistent” + “The fonts in Fig 2 are too small to read” + “The authors should improve the writing of the experiment”) We have modified these points as suggested in the updated version. (R4: “To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary”) We agree with R4. We added in the Supplementary a figure comparing a 2D UMAP representation of the features learnt with our model vs SimCLR, confirming our claim. back to top","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<meta
  name="keywords"
  content="Dufumier, Benoit,Gori, Pietro,Victor, Julie,Grigis, Antoine,Wessa, Michele,Brambilla, Paolo,Favre, Pauline,Polosan, Mircea,McDonald, Colm,Piguet, Camille Marie,Phillips, Mary,Eyler, Lisa,Duchesnay, Edouard" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="MICCAI 2021 - Accepted Papers and Reviews - "
  href="kittywong/feed.xml" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/base.css" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  async>
</script>


<script src="/assets/scripts/jekyllpaper.js" async></script>
<script
  src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"
  onload="javascript:loadMermaid();"
  async>
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
    //,
    //displayAlign: "left",
    //displayIndent: "2em"
  });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  </head>
  <body>
    <div class="container-wrapper">
      <header class="container-header">
        <div class="header-info">
  <!-- Added by Elvis Chen -->
  <img src="https://kittywong.github.io/assets/images/miccai2021header.jpg" alt="MICCAI banner">
  <!-- END Added by Elvis Chen -->
  <span class="header-info-name">MICCAI 2021 - Accepted Papers and Reviews</span>
  <span class="header-info-desc"></span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
    <h2>
    
    <li class="header-main-nav-item">
      <a href="kittywong/">
        
          <b>List of Papers</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/categories">
        
          <b>By topics</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/tags">
        
          <b>Author List</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/about">
        
          <b>About</b>
        
      </a>
    </li>
      
    </h2>
  </ul>
</nav>
      </header>
      <main class="container-main">
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<article class="container-post">
  <div class="post-title">
    <h1><span style="color:#1040a7"><b>Contrastive Learning with Continuous Proxy Meta-Data For 3D MRI Classification</b></span></h1>
  </div>
  
  <div class="post-author print-post-author">
    <span>Kitty K. Wong</span>
  </div>
  <hr>
    
   
  <div class="post-content">
    <!--
    <div class="post-categories">
      <h2><span style="color:#1040a7">Paper Topic(s):</span></h2> 
      
      
      <a 
        href="kittywong/categories#Machine Learning - Self-supervised learning"
        class="post-category">
        Machine Learning - Self-supervised learning
      </a>
      
      <a 
        href="kittywong/categories#Clinical applications - Neuroimaging - Others"
        class="post-category">
        Clinical applications - Neuroimaging - Others
      </a>
      
      <a 
        href="kittywong/categories#Computer Aided Diagnosis"
        class="post-category">
        Computer Aided Diagnosis
      </a>
      
    
    </div>
    <div class="post-tags">
      
      <h2><span style="color:#1040a7">Author(s):</span></h2> 
      
      <a href="kittywong/tags#Dufumier, Benoit"
        class="post-tags">
        Dufumier, Benoit
      </a> |  
      
      <a href="kittywong/tags#Gori, Pietro"
        class="post-tags">
        Gori, Pietro
      </a> |  
      
      <a href="kittywong/tags#Victor, Julie"
        class="post-tags">
        Victor, Julie
      </a> |  
      
      <a href="kittywong/tags#Grigis, Antoine"
        class="post-tags">
        Grigis, Antoine
      </a> |  
      
      <a href="kittywong/tags#Wessa, Michele"
        class="post-tags">
        Wessa, Michele
      </a> |  
      
      <a href="kittywong/tags#Brambilla, Paolo"
        class="post-tags">
        Brambilla, Paolo
      </a> |  
      
      <a href="kittywong/tags#Favre, Pauline"
        class="post-tags">
        Favre, Pauline
      </a> |  
      
      <a href="kittywong/tags#Polosan, Mircea"
        class="post-tags">
        Polosan, Mircea
      </a> |  
      
      <a href="kittywong/tags#McDonald, Colm"
        class="post-tags">
        McDonald, Colm
      </a> |  
      
      <a href="kittywong/tags#Piguet, Camille Marie"
        class="post-tags">
        Piguet, Camille Marie
      </a> |  
      
      <a href="kittywong/tags#Phillips, Mary"
        class="post-tags">
        Phillips, Mary
      </a> |  
      
      <a href="kittywong/tags#Eyler, Lisa"
        class="post-tags">
        Eyler, Lisa
      </a> |  
      
      <a href="kittywong/tags#Duchesnay, Edouard"
        class="post-tags">
        Duchesnay, Edouard
      </a> |  
      
    </div>
  -->
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

    .sidenav {
      width: 200px;
      position: fixed;
      z-index: 1;
      top: 150px;
      left: 50px;
      background: #eee;
      overflow-x: hidden;
      padding: 0px 0;
    }
  
    .sidenav a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 16px;
      color: #2196F3;
      color: #FF4500;
      display: block;
    }
  
    .sidenav a:hover {
      color: #064579;
    }
    </style>
  </head>

  <div class="sidenav">
    <a href="#author-id">Paper Info</a>
    <a href="#review-id">Reviews</a>
    <a href="#metareview-id">Meta-Review(s)</a>
    <a href="#authorFeedback-id">Author Feedback</a>
    <a href="">Back to top</a>
    <a href="https://kittywong.github.io">Back to List of papers</a>
  </div>

    <table>
  <tbody>
    <tr>
      <td><a href="#author-id"><span style="color:#ff9900"><b>Paper Info</b></span></a></td>
      <td><a href="#review-id"><span style="color:#ff9900"><b>Reviews</b></span></a></td>
      <td><a href="#metareview-id"><span style="color:#ff9900"><b>Meta-review(s)</b></span></a></td>
      <td><a href="#authorFeedback-id"><span style="color:#ff9900"><b>Author Feedback</b></span></a></td>
    </tr>
  </tbody>
</table>

<h1 id="author-id">Authors</h1>
<p>Benoit Dufumier, Pietro Gori, Julie Victor, Antoine Grigis, Michele Wessa, Paolo Brambilla, Pauline Favre, Mircea Polosan, Colm McDonald, Camille Marie Piguet, Mary Phillips, Lisa Eyler, Edouard Duchesnay
<br /><br /></p>

<h1 id="abstract-id">Abstract</h1>
<p>Traditional supervised learning with deep neural networks requires a tremendous amount of labelled data to converge to a good solution. For 3D medical images, it is often impractical to build a large homogeneous annotated dataset for a specific pathology. Self-supervised methods offer a new way to learn a representation of the images in an unsupervised manner with a neural network. In particular, contrastive learning has shown great promises by (almost) matching the performance of fully-supervised CNN on vision tasks. Nonetheless, this method does not take advantage of available meta-data, such as participant’s age, viewed as prior knowledge. Here, we propose to leverage continuous \textit{proxy} metadata, in the contrastive learning framework, by introducing a new loss called $y$-Aware InfoNCE loss. Specifically, we improve the positive sampling during pre-training by adding more positive examples with similar \textit{proxy} meta-data with the anchor, assuming they share similar discriminative semantic features. With our method, a 3D CNN model pre-trained on $10^4$ multi-site healthy brain MRI scans can extract relevant features for three classification tasks: schizophrenia, bipolar diagnosis and Alzheimer’s detection. When fine-tuned, it also outperforms 3D CNN trained from scratch on these tasks, as well as state-of-the-art self-supervised methods. Our code is made publicly available \href{https://github.com/Duplums/yAwareContrastiveLearning}{here}
<br /><br /></p>

<h1 id="link-id">Link to paper</h1>
<p><a href="https://doi.org/10.1007/978-3-030-87196-3_6">https://doi.org/10.1007/978-3-030-87196-3_6</a>
<br /><br /></p>

<h1 id="code-id">Link to the code repository</h1>
<p>https://github.com/Duplums/yAwareContrastiveLearning
<br /><br /></p>

<h1 id="dataset-id">Link to the dataset(s)</h1>
<p>N/A
<br /><br /></p>

<hr />
<h1 id="review-id">Reviews</h1>

<h3 id="review-1">Review #1</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The paper proposes a novel approach to contrastive learning for 3D MRI classification that takes metadata into account to improve positive sampling. Samples that are similar according to the metadata will be embedded closer in the embedding space, providing a means of controlling the embedding. Experiments illustrate that a model pre-trained on a large set of 3D T1 MRI brain scans, achieves promising performance on three binary classification benchmark datasets when given age as meta-data.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <p>The way of including metadata into the contrastive loss is novel and interesting and suits the presented application setting well.
The paper is well written/organized, the problem well motivated, and achieves considerable improvements over the presented baselines.
Extensive experiments are conducted to validate the benefit.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <p>The method section should be expanded slightly. It is unclear, if minimising the proposed loss in (3) is still maximising a lower bound on the mutual information (conditioned on y).</p>

      <p>A baseline that combines the “standard” InfoNCE loss SimCLR with an additional l1 loss for the age prediction (on-top of the representation), to see if a simple multi-task learning approach could achieve as useful or more useful representations. This is especially relevant since the age prediction with data augmentation performs comparable to the proposed method.</p>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>While code is not provided, the authors state that code will be provided upon acceptance. Overall, relevant implementation details are provided in sufficient detail in the manuscript.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>In addition to the comments in 4), I was wondering why all experiments in Table 1 are performed on 20% for the majority of datasets, while for the AD vs HC case, you consider 30%. Also, several of the references that you cite as arXiv papers have been published and the references should be updated accordingly. Note also, RBF stands for Radial basis function.</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>Despite the weaknesses outlined above, I believe that the use of metadata to control the embedding space is appealing and will be of interest for the MICCAI community, where contrastive learning approaches are applied extensively.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>1</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>4</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Confident but not absolutely certain</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-2">Review #2</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The authors introduce a self-supervised leasrning proceadure that takes advantage of the meta-data available in the dataset. Through this procedure they increase the positive examples with similar proxy meta-data such as age with the anchor sample. The assumption is that these examples share similar semantic features. 
The authors  propose a new loss, the y-Aware InfoNCE, which weights the infoNCE log term with a mean RBF value between the anchor’s meta-data (age) and positive and negative pairs considered in contrastive learning. Thereby the authors aim to solve the inherent issue in contrastive learning of same class images (but not exact same) being pushed apart as any other negative sample coming from different classes.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>The paper uses available meta-data in self-supervised learning. These meta-data are most of the time already available in medical imaging datasets. This paper proposes an interesting way to integrate prior knowledge in form of meta data.</li>
        <li>paper is easy to read</li>
        <li>good ablation studies</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <p>-The biggest weakness of the paper is lack of comparison with more contrastive learning (or non contrastive such as BYOL) methods. Over the past year many contrastive learning methods have been proposed and it seems the authors only make the comparison with SimCLR.</p>

      <p>-</p>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>It is sufficiently good.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <ul>
        <li>Compare with more contrastive methods and BYOL like methods</li>
        <li>standard deviation and uncertainty experiments are conducted on cross validation, while seed averages might be of better help
-Final results after fine-tuning with confidence intervals of +/- 3.7 points, makes the statistical validation questionable. In addition nothing can be concluded on BD and AD sickness of Contrastive Learning &amp; age prediction against simple age prediction.</li>
        <li>Based on Table1, it seems that compared to SimCLR alone, age prediction alone is much more beneficial, and its not clear whether using simclr with age prediction makes an improvement to age prediction.</li>
        <li>I think a missing baseline is to see if ensemble of a model fine tuned on age prediction and simclr would perform worse than the proposed weighted contrastive learning.</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>Even though I think experiments and baselines are not complete, but I like the general idea and I think its novel.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>1</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>5</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-3">Review #3</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>This work presents a novel contrastive learning method for 3D MRI classification tasks. The authors explore a way to incorporate available continuous meta-data (such as patient’s age) into the existing contrastive learning framework by introducing a new loss function, termed y-Aware InfoNCE loss. The effectiveness of the proposed method is evaluated on multiple public MRI datasets (such as BHB, SCHIZCONNECT-VIP, BIOBD, BSNIP, ADNI-GO). The reviewer appreciates the novelty of this work while having concerns about the experimental results.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ol>
        <li>Leveraging meta-data for contrastive learning in medical image tasks is an essential yet not fully explored topic. This work proposes a novel y-Aware loss to incorporate this information into the learning process, which has scientific merits for this community;</li>
        <li>The methodology is well presented and easy to follow;</li>
        <li>Ablation study for the hyper-parameter sigma is helpful to understand the behavior of the proposed method;</li>
      </ol>

    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <ol>
        <li>In Table 1, it seems with DenseNet, the proposed Age-Aware Contrastive Learning doesn’t significantly outperform (or even lower than) the simple Age Prediction pre-training on some categories. Can you provide more discussion and insight on this result?</li>
        <li>Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone?</li>
        <li>The authors only validate the proposed method on MRI data. As it’s a general method for medical image tasks, more imaging modalities (such as X-rays) should also be evaluated;</li>
      </ol>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>The experimental settings are introduced in the paper. And the authors will release the code. So the reproducibility should be good.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <ol>
        <li>The authors should further improve the organization of the experiment part. For example, the numbering formats are not consistent. The subsection Evaluation of the representation uses the format of 1-, 2-…, while the subsection of Importance of σ and T in the positive sampling uses the format of i), ii)…;</li>
        <li>To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary to compare the embedding distance of some exemplars;</li>
        <li>The fonts in Fig 2 are too small to read, and the authors should make the fonts larger;</li>
        <li>The authors should improve the writing of the experiment. Please ensure the experimental settings are well introduced. For example, what does the meaning of “D.A” in Table 1?</li>
        <li>Please cite “Vu, Yen Nhi Truong, Richard Wang, Niranjan Balachandar, Can Liu, Andrew Y. Ng, and Pranav Rajpurkar. “MedAug: Contrastive learning leveraging patient metadata improves representations for chest X-ray interpretation.” arXiv preprint arXiv:2102.10663 (2021)” as a relevant work for incorporating meta-data for contrastive learning in medical image tasks;</li>
      </ol>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>My initial rating primarily based on the novelty of this work and the concerns about the experimental results.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>2</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>6</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<hr />
<h1 id="metareview-id">Meta-Review(s)</h1>

<h2 id="primary-meta-review">Primary Meta-Review</h2>
<ul>
  <li><strong>Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal.</strong>
    <blockquote>
      <p>This submission proposes a novel y-Aware loss that leverages continuous proxy metadata in the constrastive learning framework to improve the performance of the self-supervised method for 3D MRI classification. All the reviewers have positive comments on the novelty of the proposed method and the writing of the manuscript. The reviewers have concerns about experiment design, comparative experiments and experimental results, etc. The authors are suggested to address those questions in the rebuttal letter. Other questions should be addressed if space allows.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>5</p>
    </blockquote>
  </li>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>Most of the concerns have been addressed in the rebuttal period. Updates reported in the rebuttal letter should be included in the final version.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>8</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h2 id="meta-review-2">Meta-Review #2</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>The authors have addressed the reivewers concerns in their rebuttal. They are encouraged to address the concerns in their final paper too. There are novel compoenets in the method design. The proposed method builds upon several recent works on contrastive learning.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>4</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>
<h2 id="meta-review-3">Meta-Review #3</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>It is clear that the paper has an interesting novel technical contribution. Adding meta-data to a contrastive loss is well appreciated by all the reviewers. 
All reviewers requested additional experiments. Authors answered them well in their rebuttal. These additional experiments definitely improves the quality of the article. I believe their addition should not be very difficult in the paper.</p>

      <p>I do not agree with R4’s comment regarding the need to demonstrate on x-ray images and citing a pre-print on the same topic.</p>

      <p>Overall, the paper proposes an interesting idea and presents a large experimental validation. Adding more prior work in this comparison improves the quality even further.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>9</p>
    </blockquote>
  </li>
</ul>

<h2><br /><br /></h2>
<h1 id="authorFeedback-id">Author Feedback</h1>
<blockquote>
  <p>We thank the Reviewers (R1, R2, R4) for their insightful comments which, we hope, will help us to improve the quality of the paper.</p>

  <p>(R1: <code class="language-plaintext highlighter-rouge">A baseline that combines SimCLR with age prediction" + R2:</code>…it is not clear whether using simclr with age prediction makes an improvement.”).
As suggested by R1 and R2, we have added a new multi-task approach combining SimCLR and age regression. We have updated Fig. 2 accordingly and added the following sentence “… compared to the multi-task approach SimCLR+Age, the features extracted by our method are less sensitive to the site where images come from. This shows that our technique is the only one that efficiently uses the BHB dataset by making the features learnt during pre-training less correlated to the acquisition sites.” In the updated Fig.2-b, we outperform by &gt;+5% AUC SimCLR+Age on AD vs HC and SCZ vs HC and &gt;2.5%AUC on BIP vs HC.</p>

  <p>(R2: ”Compare with contrastive methods and BYOL”)
As recommended by R2, we have included the results of: MoCo (contrastive method) and BYOL (non-contrastive method). We have updated Fig.2 accordingly. Similarly to SimCLR, results are significantly worse than the proposed method (-8% AUC for SCZ vs HC and AD vs HC in Fig.2-b).</p>

  <p>(R4: “Why the authors don’t report Age Prediction and Age Prediction w/ D.A for UNet backbone?”)
We thank R4 for pointing this out, we have added in Table 1 Age Prediction with Data Augmentation also for UNet. As for DenseNet, our pre-training remains better or similar to age supervision (+1% AUC on AD vs HC and +0.5% AUC for SCZ vs HC).</p>

  <p>(R1: “… minimising the proposed loss is still maximising a lower bound on the mutual information…”)
We agree with R1 that this is an important question. We are actually working on it and it seems that the proposed loss is indeed maximising a lower bound on the conditional mutual information. We plan to address this point, giving more mathematical details, in a future journal extension.</p>

  <p>(R1: “While code is not provided…” + R4: “And the authors will release the code.”)
As written in the abstract and p.5, our code is already publicly available in an anonymous repository.</p>

  <p>(R1: “ why all experiments in Table 1 are performed on 20% …, while for the AD vs HC … 30%)
We originally used 20% and 30% for the two data-sets respectively since we wanted the same number of subjects in both cases (N=100). We clarified this point by writing the absolute number of training subjects used for fine-tuning.</p>

  <p>(R1: “Several of the arxiv references… have been published” + R4: “Please cite … as a relevant work”)
We thank the Reviewers for pointing this out. We have modified the paper accordingly.</p>

  <p>(R2: “Final results after fine-tuning makes the statistical validation questionable” and R4: “it seems the proposed method doesn’t significantly outperform Age Prediction”)
We agree that the proposed method is not stat. sign. better than age prediction when fine-tuned on the same site. However, the main contribution of the paper is methodological. We propose a technique to leverage continuous (and categorical) proxy metadata with SimCLR. We will investigate in future whether the combination of other metadata (e.g. sex) can improve the performance of our representation.</p>

  <p>(R4: “The authors only validate the proposed method on MRI data”)
Here, we focused on 3 different neuroimaging applications using more than 10K MRI data. The extension to other modalities (e.g. X-ray) is left for future work.</p>

  <p>(R4: “ the numbering formats are not consistent” + “The fonts in Fig 2 are too small to read” + “The authors should improve the writing of the experiment”)
We have modified these points as suggested in the updated version.</p>

  <p>(R4: “To claim “semantically similar samples are “closer” than semantically different samples”, ablation study is necessary”)
We agree with R4. We added in the Supplementary a figure comparing a 2D UMAP representation of the features learnt with our model vs SimCLR, confirming our claim.</p>
</blockquote>

<p><br /><br />
<a href=""><span style="color:#ff9900"><b>back to top</b></span></a></p>

<hr />


  </div>

  <div class="post-info">
    <!--
    <div class="post-date">
      Poster presentation date:  
      0205-12-31
      -->
      <!--
      
        ,
        updated at 
        0206-01-01
      
      .
      
    </div>
    -->
    <!--
    
    <div class="post-author">
      Author: Kitty K. Wong
    </div>
    
    -->
    <div class="post-categories">
      <span><b>Topic(s): </b></span>
      
      <a 
        href="kittywong/categories#Machine Learning - Self-supervised learning"
        class="post-category">
        Machine Learning - Self-supervised learning
      </a> |
      
      <a 
        href="kittywong/categories#Clinical applications - Neuroimaging - Others"
        class="post-category">
        Clinical applications - Neuroimaging - Others
      </a> |
      
      <a 
        href="kittywong/categories#Computer Aided Diagnosis"
        class="post-category">
        Computer Aided Diagnosis
      </a> |
      
    </div>
    <div class="post-tags">
      <!--<span>Author List</span>-->
      <span><b> Author(s): </b></span>
      
      <a href="kittywong/tags#Dufumier, Benoit"
        class="post-category">
        Dufumier, Benoit
      </a> |  
      
      <a href="kittywong/tags#Gori, Pietro"
        class="post-category">
        Gori, Pietro
      </a> |  
      
      <a href="kittywong/tags#Victor, Julie"
        class="post-category">
        Victor, Julie
      </a> |  
      
      <a href="kittywong/tags#Grigis, Antoine"
        class="post-category">
        Grigis, Antoine
      </a> |  
      
      <a href="kittywong/tags#Wessa, Michele"
        class="post-category">
        Wessa, Michele
      </a> |  
      
      <a href="kittywong/tags#Brambilla, Paolo"
        class="post-category">
        Brambilla, Paolo
      </a> |  
      
      <a href="kittywong/tags#Favre, Pauline"
        class="post-category">
        Favre, Pauline
      </a> |  
      
      <a href="kittywong/tags#Polosan, Mircea"
        class="post-category">
        Polosan, Mircea
      </a> |  
      
      <a href="kittywong/tags#McDonald, Colm"
        class="post-category">
        McDonald, Colm
      </a> |  
      
      <a href="kittywong/tags#Piguet, Camille Marie"
        class="post-category">
        Piguet, Camille Marie
      </a> |  
      
      <a href="kittywong/tags#Phillips, Mary"
        class="post-category">
        Phillips, Mary
      </a> |  
      
      <a href="kittywong/tags#Eyler, Lisa"
        class="post-category">
        Eyler, Lisa
      </a> |  
      
      <a href="kittywong/tags#Duchesnay, Edouard"
        class="post-category">
        Duchesnay, Edouard
      </a> |  
      
    </div>
    <div class="post-other">
      
      <div>
        <span><b>
          Next paper: 
        </b>
        </span>
        <a href="/0206/12/31/Paper0395">
          Sli2Vol: Annotate a 3D Volume from a Single Slice with Self-Supervised Learning
        </a>
      </div>
      
      
      <div>
        <span><b>
          Previous paper: 
        </b>
        </span>
        <a href="/0204/12/31/Paper0322">
          Self-supervised visual representation learning for histopathological images
        </a>
      </div>
      
    </div>
    
  </div>
</article>

      </main>
      <footer class="container-footer">
        <div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. Kitty K. Wong, The MICCAI Society
  </span>
</div>
<!--
<div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. example.com.
  </span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper-Github">Jekyll-Paper-Github</a>.
  </span>
</div>
-->

      </footer>
    </div>
  </body>
</html>
