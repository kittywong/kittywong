<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Stain Mix-up: Unsupervised Domain Generalization for Histopathology Images | MICCAI 2021 - Accepted Papers and Reviews</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Stain Mix-up: Unsupervised Domain Generalization for Histopathology Images" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Jia-Ren Chang, Min-Sheng Wu, Wei-Hsiang Yu, Chi-Chung Chen, Cheng-Kung Yang, Yen-Yu Lin, Chao-Yuan Yeh Abstract Computational histopathology studies have shown that stain color variations considerably hamper the performance. Stain color variations indicate the slides exhibit greatly different color appearance due to the diversity of chemical stains, staining procedures, and slide scanners. Previous approaches tend to improve model robustness via data augmentation or stain color normalization. However, they still suffer from generalization to new domains with unseen stain colors. In this study, we address the issue of unseen color domain generalization in histopathology images by encouraging the model to adapt varied stain colors. To this end, we propose a novel data augmentation method, stain mix-up, which incorporates the stain colors of unseen domains into training data. Unlike previous mix-up methods employed in computer vision, the proposed method constructs the combination of stain colors without using any label information, hence enabling unsupervised domain generalization. Extensive experiments are conducted and demonstrate that our method is general enough to different tasks and stain methods, including H&amp;E stains for tumor classification and hematological stains for bone marrow cell instance segmentation. The results validate that the proposed stain mix-up can significantly improves the performance on the unseen domains. Link to paper https://doi.org/10.1007/978-3-030-87199-4_11 Link to the code repository N/A Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The paper proposes a method for domain generalization of machine learning methods for histopathology image analysis based on the “mix-up” data augmentation principle. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The main strength of the paper is that the proposed method is very simple and elegant, yet shown to be effective for two different applications iin histopathology image analysis. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors claim that the. method is “unsupervised domain genralization” but I think that the naming is problematic. The method still requires access to the target domain at training time and the samples have to be labelled with their domain. This makes the “unsupervised” title misleading as there are methods that aim to improve the domain generalization without access new domains at training time. Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance One of the datasets used in the paper is from the CAMELYON17 challenge. The results on this dataset should be presented in a way that can be compared to results submitted to the challenge. The authors should state if the submitted method is state-of-the-art w.r.t. to results submitted to CAMELYON17. The other dataset seems to be private, which limits the overall reproducibility of the paper. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Since this is a methodology paper, I think adding additional classification tasks/datasets will strengthen the paper. Using a distribution of \alpha that has a peak at 0 (i.e. results in complete transfer of the target stain matrix to the source domain images) will be interesting and I expect it might improve the results. I would also add a comparison to a baseline that is a combination of normalization and data augmentation as these two techniques can be complementary. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? It is an elegant method that seems to work. Additional experiments will make it more convincing. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 3 Reviewer confidence Very confident Review #2 Please describe the contribution of the paper The work deals with color issues in tissue analysis that are stained either by mainstream H&amp;E or by specific coloration procedure. Either data augmentation or color normalization have been used so far. The authors tackle the generalization issue to unseen stains by a mix-up data augmentation method including unseen color staining in the training process. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The mix-up strategy never used in histology images according to the authors. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. We hardly understand how to use it in practice; Please rate the clarity and organization of this paper Satisfactory Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Good references and formula Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Abstract : “to adapt varied stain colors” → to adapt to varied stain colors, I guess Introduction : Research works used color patterns as a core concept to either augment data or homogenize color representations usually by decomposing a stain color matrix. The basic idea is to create a mix-up stain color matrix to improve robustness of training algorithms. Can you explain a bit more the mix-up methods in general computer vision and notably the use of labels in addition to images. The results of the proposed method are on a par with state of the art methods but the authors claim to be the first to propose unsupervised domain generalization in histology images analysis. Methods : Do not forget that staining is an absorption phenomena but also a diffusion one that makes sometimes the Beer-Lambert law flawed. The last paragraph is doubling the same arguments in the introduction. I would rather read about more explanation about the use for different staining for example like ImmuniHistoChemistry IHC staining. I do not really see the unsupervised way in it. As much as new data you have you will mix up the matrix there. So it is purely stain augmentation. How do you use the labels in the source domain and what is this label ? Experiments : For the H&amp;E experiments, you have 5 centers. For the Hema dataset, you have only one center right ? What is not clear to me is how you mix up ? What it the source and target domain ? C1 versus C2 to C5. C1 versus HEMA ? Etc. Your experiments then show a more robust cross-domain interpolation that stabilize the results over different centers and staining procedures which is a very good achievement. In supplemental material, it is shown that random self-perturbation improve robustness. Is it so different than mainstream data augmentation methods? Sorry for my misunderstanding, but I do not really understand the Hema experiment : how is it carried on and what is the conclusion. All in all, the work is interesting but according to me deserves to be better explained. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? it is an interesting issue about color in tissue images and variability. Much work have been proposed on the topic. I do not really see how to use this one in pracrice. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 3 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper The authors present a augmentation method for histopathological slides. In their approach, images are decomposed into color and density matrix in source and target domain. mixing the color matrices of source and target allows a augmentation that covers the target space and leads to improved results for two challenges: tumor classification and single cell instance segmenation Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The authors address an important problem with a novel, easy solution that seems to outperform other methods on two tasks. The figures illustrate the approach very nicely Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Code and Hema dataset is not publicly available Setting the delta parameter is ad hoc Please rate the clarity and organization of this paper Excellent Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Code and Hema dataset is not publicly available Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Abstract wordiing can be improved Provide Code and Data Provide strategies for setting delta parameter Please state your overall opinion of the paper accept (8) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? A novel, simple method for stain augmentation Paper is written clearly and concisely What is the ranking of this paper in your review stack? 1 Number of papers in your stack 7 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The authors describe a novel augmentation method for histopathological slides. In their approach, images in both source and target domains are decomposed into stain amount and colour matrices based on a previously proposed stain decomposition method (sparse NMF). Mixing of the colour matrices of source and target allows a ‘mix-up’ augmentation that covers the target space and leads to improved results for two downstream tasks: tumour classification and single-cell instance segmentation. All reviewers think the method is simple and effective, thus recommending paper acceptance. Yet authors could adapt reviewers’ comments in their final submission and also consider releasing the Hema dataset and code to promote reproducibility. In Addition to these comments, I also have a concern that whether the relatively slow speed of Sparse NMF stain decomposition will affect the practical usage of the proposed augmentation method. Since augmentation usually requires real-time performance. Maybe authors can also bring that into the discussion. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 3 Author Feedback We appreciate all the valuable comments from the reviews. In the following, we would like to address the following concerns raised in the reviews: (1) The speed of SNMF stain decomposition will affect the practical usage of the proposed augmentation method (meta-reviewer). (2) The availability of the Hema dataset and the code (R1, R5). (3) The practical usage for unsupervised domain generalization (R1, R3). (4) Random self-perturbation of stain matrix (R3). For (1), to prevent repeating SNMF decomposition, the stain matrices of images are pre-computed using SNMF before the training procedure. That is, we only compute stain matrices once and use them repeatedly during training. The computational time of SNMF decomposition for for a single image in CAMELYON17 and Hema takes 1.14 and 2.40 seconds, respectively, measured on an Intel Xeon CPU E5-2697 v3. For (2), we will release our training/test code working on the CAMELYON17 dataset upon formal acceptance. The CAMELYON17 dataset can be obtained from the official website (https://camelyon17.grand-challenge.org/). However, the Hema dataset is not publicly available due to IRB requirements for privacy protection. For (3), we specify a practical scenario below where the proposed method is practical and applicable. We assume that we have a well-annotated histopathology dataset collected from one medical center. The annotated dataset can be used to train a good model for data in this center. However, the model performance is degraded when applying this model to data collected in other centers due to the substantial color domain gap. Fine-tuning this model is not a feasible solution to this issue because of the lack of annotations from the new data. Our method helps at this moment where we only need the stain matrix of the new coming data. This is why we call our method “unsupervised” because we do not need the labels of new data. The model can be retrained using the original well-annotated histopathology dataset and the stain matrices of the new data. In our experiments, we simulate the described situation, i.e., training the model on C1 and applying it to C2-C5 of the CAMELYON17 dataset as well as training on M1 and applying to M2 of the Hema dataset. The experimental results demonstrate that the proposed method can eliminate domain gaps in an unsupervised way. For (4), we would like to clarify about the results of random self-perturbation of the stain matrix. The random self-perturbation of a stain matrix is a special case of stain mix-up where the stain matrix is mixed with random noises. It is reasonably expected that self-perturbation of a stain matrix improves robustness as well. back to top" />
<meta property="og:description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Jia-Ren Chang, Min-Sheng Wu, Wei-Hsiang Yu, Chi-Chung Chen, Cheng-Kung Yang, Yen-Yu Lin, Chao-Yuan Yeh Abstract Computational histopathology studies have shown that stain color variations considerably hamper the performance. Stain color variations indicate the slides exhibit greatly different color appearance due to the diversity of chemical stains, staining procedures, and slide scanners. Previous approaches tend to improve model robustness via data augmentation or stain color normalization. However, they still suffer from generalization to new domains with unseen stain colors. In this study, we address the issue of unseen color domain generalization in histopathology images by encouraging the model to adapt varied stain colors. To this end, we propose a novel data augmentation method, stain mix-up, which incorporates the stain colors of unseen domains into training data. Unlike previous mix-up methods employed in computer vision, the proposed method constructs the combination of stain colors without using any label information, hence enabling unsupervised domain generalization. Extensive experiments are conducted and demonstrate that our method is general enough to different tasks and stain methods, including H&amp;E stains for tumor classification and hematological stains for bone marrow cell instance segmentation. The results validate that the proposed stain mix-up can significantly improves the performance on the unseen domains. Link to paper https://doi.org/10.1007/978-3-030-87199-4_11 Link to the code repository N/A Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The paper proposes a method for domain generalization of machine learning methods for histopathology image analysis based on the “mix-up” data augmentation principle. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The main strength of the paper is that the proposed method is very simple and elegant, yet shown to be effective for two different applications iin histopathology image analysis. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors claim that the. method is “unsupervised domain genralization” but I think that the naming is problematic. The method still requires access to the target domain at training time and the samples have to be labelled with their domain. This makes the “unsupervised” title misleading as there are methods that aim to improve the domain generalization without access new domains at training time. Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance One of the datasets used in the paper is from the CAMELYON17 challenge. The results on this dataset should be presented in a way that can be compared to results submitted to the challenge. The authors should state if the submitted method is state-of-the-art w.r.t. to results submitted to CAMELYON17. The other dataset seems to be private, which limits the overall reproducibility of the paper. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Since this is a methodology paper, I think adding additional classification tasks/datasets will strengthen the paper. Using a distribution of \alpha that has a peak at 0 (i.e. results in complete transfer of the target stain matrix to the source domain images) will be interesting and I expect it might improve the results. I would also add a comparison to a baseline that is a combination of normalization and data augmentation as these two techniques can be complementary. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? It is an elegant method that seems to work. Additional experiments will make it more convincing. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 3 Reviewer confidence Very confident Review #2 Please describe the contribution of the paper The work deals with color issues in tissue analysis that are stained either by mainstream H&amp;E or by specific coloration procedure. Either data augmentation or color normalization have been used so far. The authors tackle the generalization issue to unseen stains by a mix-up data augmentation method including unseen color staining in the training process. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The mix-up strategy never used in histology images according to the authors. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. We hardly understand how to use it in practice; Please rate the clarity and organization of this paper Satisfactory Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Good references and formula Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Abstract : “to adapt varied stain colors” → to adapt to varied stain colors, I guess Introduction : Research works used color patterns as a core concept to either augment data or homogenize color representations usually by decomposing a stain color matrix. The basic idea is to create a mix-up stain color matrix to improve robustness of training algorithms. Can you explain a bit more the mix-up methods in general computer vision and notably the use of labels in addition to images. The results of the proposed method are on a par with state of the art methods but the authors claim to be the first to propose unsupervised domain generalization in histology images analysis. Methods : Do not forget that staining is an absorption phenomena but also a diffusion one that makes sometimes the Beer-Lambert law flawed. The last paragraph is doubling the same arguments in the introduction. I would rather read about more explanation about the use for different staining for example like ImmuniHistoChemistry IHC staining. I do not really see the unsupervised way in it. As much as new data you have you will mix up the matrix there. So it is purely stain augmentation. How do you use the labels in the source domain and what is this label ? Experiments : For the H&amp;E experiments, you have 5 centers. For the Hema dataset, you have only one center right ? What is not clear to me is how you mix up ? What it the source and target domain ? C1 versus C2 to C5. C1 versus HEMA ? Etc. Your experiments then show a more robust cross-domain interpolation that stabilize the results over different centers and staining procedures which is a very good achievement. In supplemental material, it is shown that random self-perturbation improve robustness. Is it so different than mainstream data augmentation methods? Sorry for my misunderstanding, but I do not really understand the Hema experiment : how is it carried on and what is the conclusion. All in all, the work is interesting but according to me deserves to be better explained. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? it is an interesting issue about color in tissue images and variability. Much work have been proposed on the topic. I do not really see how to use this one in pracrice. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 3 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper The authors present a augmentation method for histopathological slides. In their approach, images are decomposed into color and density matrix in source and target domain. mixing the color matrices of source and target allows a augmentation that covers the target space and leads to improved results for two challenges: tumor classification and single cell instance segmenation Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The authors address an important problem with a novel, easy solution that seems to outperform other methods on two tasks. The figures illustrate the approach very nicely Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Code and Hema dataset is not publicly available Setting the delta parameter is ad hoc Please rate the clarity and organization of this paper Excellent Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Code and Hema dataset is not publicly available Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Abstract wordiing can be improved Provide Code and Data Provide strategies for setting delta parameter Please state your overall opinion of the paper accept (8) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? A novel, simple method for stain augmentation Paper is written clearly and concisely What is the ranking of this paper in your review stack? 1 Number of papers in your stack 7 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The authors describe a novel augmentation method for histopathological slides. In their approach, images in both source and target domains are decomposed into stain amount and colour matrices based on a previously proposed stain decomposition method (sparse NMF). Mixing of the colour matrices of source and target allows a ‘mix-up’ augmentation that covers the target space and leads to improved results for two downstream tasks: tumour classification and single-cell instance segmentation. All reviewers think the method is simple and effective, thus recommending paper acceptance. Yet authors could adapt reviewers’ comments in their final submission and also consider releasing the Hema dataset and code to promote reproducibility. In Addition to these comments, I also have a concern that whether the relatively slow speed of Sparse NMF stain decomposition will affect the practical usage of the proposed augmentation method. Since augmentation usually requires real-time performance. Maybe authors can also bring that into the discussion. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 3 Author Feedback We appreciate all the valuable comments from the reviews. In the following, we would like to address the following concerns raised in the reviews: (1) The speed of SNMF stain decomposition will affect the practical usage of the proposed augmentation method (meta-reviewer). (2) The availability of the Hema dataset and the code (R1, R5). (3) The practical usage for unsupervised domain generalization (R1, R3). (4) Random self-perturbation of stain matrix (R3). For (1), to prevent repeating SNMF decomposition, the stain matrices of images are pre-computed using SNMF before the training procedure. That is, we only compute stain matrices once and use them repeatedly during training. The computational time of SNMF decomposition for for a single image in CAMELYON17 and Hema takes 1.14 and 2.40 seconds, respectively, measured on an Intel Xeon CPU E5-2697 v3. For (2), we will release our training/test code working on the CAMELYON17 dataset upon formal acceptance. The CAMELYON17 dataset can be obtained from the official website (https://camelyon17.grand-challenge.org/). However, the Hema dataset is not publicly available due to IRB requirements for privacy protection. For (3), we specify a practical scenario below where the proposed method is practical and applicable. We assume that we have a well-annotated histopathology dataset collected from one medical center. The annotated dataset can be used to train a good model for data in this center. However, the model performance is degraded when applying this model to data collected in other centers due to the substantial color domain gap. Fine-tuning this model is not a feasible solution to this issue because of the lack of annotations from the new data. Our method helps at this moment where we only need the stain matrix of the new coming data. This is why we call our method “unsupervised” because we do not need the labels of new data. The model can be retrained using the original well-annotated histopathology dataset and the stain matrices of the new data. In our experiments, we simulate the described situation, i.e., training the model on C1 and applying it to C2-C5 of the CAMELYON17 dataset as well as training on M1 and applying to M2 of the Hema dataset. The experimental results demonstrate that the proposed method can eliminate domain gaps in an unsupervised way. For (4), we would like to clarify about the results of random self-perturbation of the stain matrix. The random self-perturbation of a stain matrix is a special case of stain mix-up where the stain matrix is mixed with random noises. It is reasonably expected that self-perturbation of a stain matrix improves robustness as well. back to top" />
<link rel="canonical" href="https://kittywong.github.io/kittywong/0310/12/31/Paper0297" />
<meta property="og:url" content="https://kittywong.github.io/kittywong/0310/12/31/Paper0297" />
<meta property="og:site_name" content="MICCAI 2021 - Accepted Papers and Reviews" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="0310-12-31T23:58:56-05:17" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Stain Mix-up: Unsupervised Domain Generalization for Histopathology Images" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://kittywong.github.io/kittywong/0310/12/31/Paper0297"},"@type":"BlogPosting","url":"https://kittywong.github.io/kittywong/0310/12/31/Paper0297","headline":"Stain Mix-up: Unsupervised Domain Generalization for Histopathology Images","dateModified":"0311-01-02T00:00:00-05:17","datePublished":"0310-12-31T23:58:56-05:17","description":"Paper Info Reviews Meta-review(s) Author Feedback Authors Jia-Ren Chang, Min-Sheng Wu, Wei-Hsiang Yu, Chi-Chung Chen, Cheng-Kung Yang, Yen-Yu Lin, Chao-Yuan Yeh Abstract Computational histopathology studies have shown that stain color variations considerably hamper the performance. Stain color variations indicate the slides exhibit greatly different color appearance due to the diversity of chemical stains, staining procedures, and slide scanners. Previous approaches tend to improve model robustness via data augmentation or stain color normalization. However, they still suffer from generalization to new domains with unseen stain colors. In this study, we address the issue of unseen color domain generalization in histopathology images by encouraging the model to adapt varied stain colors. To this end, we propose a novel data augmentation method, stain mix-up, which incorporates the stain colors of unseen domains into training data. Unlike previous mix-up methods employed in computer vision, the proposed method constructs the combination of stain colors without using any label information, hence enabling unsupervised domain generalization. Extensive experiments are conducted and demonstrate that our method is general enough to different tasks and stain methods, including H&amp;E stains for tumor classification and hematological stains for bone marrow cell instance segmentation. The results validate that the proposed stain mix-up can significantly improves the performance on the unseen domains. Link to paper https://doi.org/10.1007/978-3-030-87199-4_11 Link to the code repository N/A Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The paper proposes a method for domain generalization of machine learning methods for histopathology image analysis based on the “mix-up” data augmentation principle. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The main strength of the paper is that the proposed method is very simple and elegant, yet shown to be effective for two different applications iin histopathology image analysis. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors claim that the. method is “unsupervised domain genralization” but I think that the naming is problematic. The method still requires access to the target domain at training time and the samples have to be labelled with their domain. This makes the “unsupervised” title misleading as there are methods that aim to improve the domain generalization without access new domains at training time. Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance One of the datasets used in the paper is from the CAMELYON17 challenge. The results on this dataset should be presented in a way that can be compared to results submitted to the challenge. The authors should state if the submitted method is state-of-the-art w.r.t. to results submitted to CAMELYON17. The other dataset seems to be private, which limits the overall reproducibility of the paper. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Since this is a methodology paper, I think adding additional classification tasks/datasets will strengthen the paper. Using a distribution of \\alpha that has a peak at 0 (i.e. results in complete transfer of the target stain matrix to the source domain images) will be interesting and I expect it might improve the results. I would also add a comparison to a baseline that is a combination of normalization and data augmentation as these two techniques can be complementary. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? It is an elegant method that seems to work. Additional experiments will make it more convincing. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 3 Reviewer confidence Very confident Review #2 Please describe the contribution of the paper The work deals with color issues in tissue analysis that are stained either by mainstream H&amp;E or by specific coloration procedure. Either data augmentation or color normalization have been used so far. The authors tackle the generalization issue to unseen stains by a mix-up data augmentation method including unseen color staining in the training process. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The mix-up strategy never used in histology images according to the authors. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. We hardly understand how to use it in practice; Please rate the clarity and organization of this paper Satisfactory Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Good references and formula Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Abstract : “to adapt varied stain colors” → to adapt to varied stain colors, I guess Introduction : Research works used color patterns as a core concept to either augment data or homogenize color representations usually by decomposing a stain color matrix. The basic idea is to create a mix-up stain color matrix to improve robustness of training algorithms. Can you explain a bit more the mix-up methods in general computer vision and notably the use of labels in addition to images. The results of the proposed method are on a par with state of the art methods but the authors claim to be the first to propose unsupervised domain generalization in histology images analysis. Methods : Do not forget that staining is an absorption phenomena but also a diffusion one that makes sometimes the Beer-Lambert law flawed. The last paragraph is doubling the same arguments in the introduction. I would rather read about more explanation about the use for different staining for example like ImmuniHistoChemistry IHC staining. I do not really see the unsupervised way in it. As much as new data you have you will mix up the matrix there. So it is purely stain augmentation. How do you use the labels in the source domain and what is this label ? Experiments : For the H&amp;E experiments, you have 5 centers. For the Hema dataset, you have only one center right ? What is not clear to me is how you mix up ? What it the source and target domain ? C1 versus C2 to C5. C1 versus HEMA ? Etc. Your experiments then show a more robust cross-domain interpolation that stabilize the results over different centers and staining procedures which is a very good achievement. In supplemental material, it is shown that random self-perturbation improve robustness. Is it so different than mainstream data augmentation methods? Sorry for my misunderstanding, but I do not really understand the Hema experiment : how is it carried on and what is the conclusion. All in all, the work is interesting but according to me deserves to be better explained. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? it is an interesting issue about color in tissue images and variability. Much work have been proposed on the topic. I do not really see how to use this one in pracrice. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 3 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper The authors present a augmentation method for histopathological slides. In their approach, images are decomposed into color and density matrix in source and target domain. mixing the color matrices of source and target allows a augmentation that covers the target space and leads to improved results for two challenges: tumor classification and single cell instance segmenation Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The authors address an important problem with a novel, easy solution that seems to outperform other methods on two tasks. The figures illustrate the approach very nicely Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Code and Hema dataset is not publicly available Setting the delta parameter is ad hoc Please rate the clarity and organization of this paper Excellent Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Code and Hema dataset is not publicly available Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Abstract wordiing can be improved Provide Code and Data Provide strategies for setting delta parameter Please state your overall opinion of the paper accept (8) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? A novel, simple method for stain augmentation Paper is written clearly and concisely What is the ranking of this paper in your review stack? 1 Number of papers in your stack 7 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The authors describe a novel augmentation method for histopathological slides. In their approach, images in both source and target domains are decomposed into stain amount and colour matrices based on a previously proposed stain decomposition method (sparse NMF). Mixing of the colour matrices of source and target allows a ‘mix-up’ augmentation that covers the target space and leads to improved results for two downstream tasks: tumour classification and single-cell instance segmentation. All reviewers think the method is simple and effective, thus recommending paper acceptance. Yet authors could adapt reviewers’ comments in their final submission and also consider releasing the Hema dataset and code to promote reproducibility. In Addition to these comments, I also have a concern that whether the relatively slow speed of Sparse NMF stain decomposition will affect the practical usage of the proposed augmentation method. Since augmentation usually requires real-time performance. Maybe authors can also bring that into the discussion. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 3 Author Feedback We appreciate all the valuable comments from the reviews. In the following, we would like to address the following concerns raised in the reviews: (1) The speed of SNMF stain decomposition will affect the practical usage of the proposed augmentation method (meta-reviewer). (2) The availability of the Hema dataset and the code (R1, R5). (3) The practical usage for unsupervised domain generalization (R1, R3). (4) Random self-perturbation of stain matrix (R3). For (1), to prevent repeating SNMF decomposition, the stain matrices of images are pre-computed using SNMF before the training procedure. That is, we only compute stain matrices once and use them repeatedly during training. The computational time of SNMF decomposition for for a single image in CAMELYON17 and Hema takes 1.14 and 2.40 seconds, respectively, measured on an Intel Xeon CPU E5-2697 v3. For (2), we will release our training/test code working on the CAMELYON17 dataset upon formal acceptance. The CAMELYON17 dataset can be obtained from the official website (https://camelyon17.grand-challenge.org/). However, the Hema dataset is not publicly available due to IRB requirements for privacy protection. For (3), we specify a practical scenario below where the proposed method is practical and applicable. We assume that we have a well-annotated histopathology dataset collected from one medical center. The annotated dataset can be used to train a good model for data in this center. However, the model performance is degraded when applying this model to data collected in other centers due to the substantial color domain gap. Fine-tuning this model is not a feasible solution to this issue because of the lack of annotations from the new data. Our method helps at this moment where we only need the stain matrix of the new coming data. This is why we call our method “unsupervised” because we do not need the labels of new data. The model can be retrained using the original well-annotated histopathology dataset and the stain matrices of the new data. In our experiments, we simulate the described situation, i.e., training the model on C1 and applying it to C2-C5 of the CAMELYON17 dataset as well as training on M1 and applying to M2 of the Hema dataset. The experimental results demonstrate that the proposed method can eliminate domain gaps in an unsupervised way. For (4), we would like to clarify about the results of random self-perturbation of the stain matrix. The random self-perturbation of a stain matrix is a special case of stain mix-up where the stain matrix is mixed with random noises. It is reasonably expected that self-perturbation of a stain matrix improves robustness as well. back to top","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<meta
  name="keywords"
  content="Chang, Jia-Ren,Wu, Min-Sheng,Yu, Wei-Hsiang,Chen, Chi-Chung,Yang, Cheng-Kung,Lin, Yen-Yu,Yeh, Chao-Yuan" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="MICCAI 2021 - Accepted Papers and Reviews - "
  href="kittywong/feed.xml" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/base.css" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  async>
</script>


<script src="/assets/scripts/jekyllpaper.js" async></script>
<script
  src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"
  onload="javascript:loadMermaid();"
  async>
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
    //,
    //displayAlign: "left",
    //displayIndent: "2em"
  });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  </head>
  <body>
    <div class="container-wrapper">
      <header class="container-header">
        <div class="header-info">
  <!-- Added by Elvis Chen -->
  <img src="https://kittywong.github.io/assets/images/miccai2021header.jpg" alt="MICCAI banner">
  <!-- END Added by Elvis Chen -->
  <span class="header-info-name">MICCAI 2021 - Accepted Papers and Reviews</span>
  <span class="header-info-desc"></span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
    <h2>
    
    <li class="header-main-nav-item">
      <a href="kittywong/">
        
          <b>List of Papers</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/categories">
        
          <b>By topics</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/tags">
        
          <b>Author List</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/about">
        
          <b>About</b>
        
      </a>
    </li>
      
    </h2>
  </ul>
</nav>
      </header>
      <main class="container-main">
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<article class="container-post">
  <div class="post-title">
    <h1><span style="color:#1040a7"><b>Stain Mix-up: Unsupervised Domain Generalization for Histopathology Images</b></span></h1>
  </div>
  
  <div class="post-author print-post-author">
    <span>Kitty K. Wong</span>
  </div>
  <hr>
    
   
  <div class="post-content">
    <!--
    <div class="post-categories">
      <h2><span style="color:#1040a7">Paper Topic(s):</span></h2> 
      
      
      <a 
        href="kittywong/categories#Machine Learning - Domain adaptation"
        class="post-category">
        Machine Learning - Domain adaptation
      </a>
      
      <a 
        href="kittywong/categories#Computational (Integrative) Pathology"
        class="post-category">
        Computational (Integrative) Pathology
      </a>
      
      <a 
        href="kittywong/categories#Image Segmentation"
        class="post-category">
        Image Segmentation
      </a>
      
      <a 
        href="kittywong/categories#Modalities - Histopathology"
        class="post-category">
        Modalities - Histopathology
      </a>
      
    
    </div>
    <div class="post-tags">
      
      <h2><span style="color:#1040a7">Author(s):</span></h2> 
      
      <a href="kittywong/tags#Chang, Jia-Ren"
        class="post-tags">
        Chang, Jia-Ren
      </a> |  
      
      <a href="kittywong/tags#Wu, Min-Sheng"
        class="post-tags">
        Wu, Min-Sheng
      </a> |  
      
      <a href="kittywong/tags#Yu, Wei-Hsiang"
        class="post-tags">
        Yu, Wei-Hsiang
      </a> |  
      
      <a href="kittywong/tags#Chen, Chi-Chung"
        class="post-tags">
        Chen, Chi-Chung
      </a> |  
      
      <a href="kittywong/tags#Yang, Cheng-Kung"
        class="post-tags">
        Yang, Cheng-Kung
      </a> |  
      
      <a href="kittywong/tags#Lin, Yen-Yu"
        class="post-tags">
        Lin, Yen-Yu
      </a> |  
      
      <a href="kittywong/tags#Yeh, Chao-Yuan"
        class="post-tags">
        Yeh, Chao-Yuan
      </a> |  
      
    </div>
  -->
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

    .sidenav {
      width: 200px;
      position: fixed;
      z-index: 1;
      top: 150px;
      left: 50px;
      background: #eee;
      overflow-x: hidden;
      padding: 0px 0;
    }
  
    .sidenav a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 16px;
      color: #2196F3;
      color: #FF4500;
      display: block;
    }
  
    .sidenav a:hover {
      color: #064579;
    }
    </style>
  </head>

  <div class="sidenav">
    <a href="#author-id">Paper Info</a>
    <a href="#review-id">Reviews</a>
    <a href="#metareview-id">Meta-Review(s)</a>
    <a href="#authorFeedback-id">Author Feedback</a>
    <a href="">Back to top</a>
    <a href="https://kittywong.github.io">Back to List of papers</a>
  </div>

    <table>
  <tbody>
    <tr>
      <td><a href="#author-id"><span style="color:#ff9900"><b>Paper Info</b></span></a></td>
      <td><a href="#review-id"><span style="color:#ff9900"><b>Reviews</b></span></a></td>
      <td><a href="#metareview-id"><span style="color:#ff9900"><b>Meta-review(s)</b></span></a></td>
      <td><a href="#authorFeedback-id"><span style="color:#ff9900"><b>Author Feedback</b></span></a></td>
    </tr>
  </tbody>
</table>

<h1 id="author-id">Authors</h1>
<p>Jia-Ren Chang, Min-Sheng Wu, Wei-Hsiang Yu, Chi-Chung Chen, Cheng-Kung Yang, Yen-Yu Lin, Chao-Yuan Yeh
<br /><br /></p>

<h1 id="abstract-id">Abstract</h1>
<p>Computational histopathology studies have shown that stain color variations considerably hamper the performance. Stain color variations indicate the slides exhibit greatly different color appearance due to the diversity of chemical stains, staining procedures, and slide scanners. Previous approaches tend to improve model robustness via data augmentation or stain color normalization. However, they still suffer from generalization to new domains with unseen stain colors. In this study, we address the issue of unseen color domain generalization in histopathology images by encouraging the model to adapt varied stain colors. To this end, we propose a novel data augmentation method, stain mix-up, which incorporates the stain colors of unseen domains into training data. Unlike previous mix-up methods employed in computer vision, the proposed method constructs the combination of stain colors without using any label information, hence enabling unsupervised domain generalization. Extensive experiments are conducted and demonstrate that our method is general enough to different tasks and stain methods, including H&amp;E stains for tumor classification and hematological stains for bone marrow cell instance segmentation. The results validate that the proposed stain mix-up can significantly improves the performance on the unseen domains.
<br /><br /></p>

<h1 id="link-id">Link to paper</h1>
<p><a href="https://doi.org/10.1007/978-3-030-87199-4_11">https://doi.org/10.1007/978-3-030-87199-4_11</a>
<br /><br /></p>

<h1 id="code-id">Link to the code repository</h1>
<p>N/A
<br /><br /></p>

<h1 id="dataset-id">Link to the dataset(s)</h1>
<p>N/A
<br /><br /></p>

<hr />
<h1 id="review-id">Reviews</h1>

<h3 id="review-1">Review #1</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The paper proposes a method for domain generalization of machine learning methods for histopathology image analysis based on the “mix-up” data augmentation principle.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <p>The main strength of the paper is that the proposed method is very simple and elegant, yet shown to be effective for two different applications iin histopathology image analysis.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <p>The authors claim that the. method is “unsupervised domain genralization” but I think that the naming is problematic. The method still requires access to the target domain at training time and the samples have to be labelled with their domain. This makes the “unsupervised” title misleading as there are methods that aim to improve the domain generalization without access new domains at training time.</p>

    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Very Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>One of the datasets used in the paper is from the CAMELYON17 challenge. The results on this dataset should be presented in a way that can be compared to results submitted to the challenge. The authors should state if the submitted method is state-of-the-art w.r.t. to results submitted to CAMELYON17.</p>

      <p>The other dataset seems to be private, which limits the overall reproducibility of the paper.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>Since this is a methodology paper, I think adding additional classification tasks/datasets will strengthen the paper.</p>

      <p>Using a distribution of \alpha that has a peak at 0 (i.e. results in complete transfer of the target stain matrix to the source domain images) will be interesting and I expect it might improve the results.</p>

      <p>I would also add a comparison to a baseline that is a combination of normalization and data augmentation as these two techniques can be complementary.</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>It is an elegant method that seems to work. Additional experiments will make it more convincing.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>1</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-2">Review #2</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The work deals with color issues in tissue analysis that are stained either by mainstream H&amp;E or by specific coloration procedure. Either data augmentation or color normalization have been used so far. The authors tackle the generalization issue to unseen stains by a mix-up data augmentation method including unseen color staining in the training process.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <p>The mix-up strategy never used in histology images according to the authors.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <p>We hardly understand how to use it in practice;</p>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Satisfactory</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>Good references and formula</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>Abstract : “to adapt varied stain colors” → to adapt to varied stain colors, I guess</p>

      <p>Introduction : 
Research works used color patterns as a core concept to either augment data or homogenize color representations usually by decomposing a stain color matrix. The basic idea is to create a mix-up stain color matrix to improve robustness of training algorithms.
Can you explain a bit more the mix-up methods in general computer vision and notably the use of labels in addition to images. 
The results of the proposed method are on a par with state of the art methods but the authors claim to be the first to propose unsupervised domain generalization in histology images analysis.</p>

      <p>Methods :</p>

      <p>Do not forget that staining is an absorption phenomena but also a diffusion one that makes sometimes the Beer-Lambert law flawed.</p>

      <p>The last paragraph is doubling the same arguments in the introduction. I would rather read about more explanation about the use for different staining for example like ImmuniHistoChemistry IHC staining. I do not really see the unsupervised way in it. As much as new data you have you will mix up the matrix there. So it is purely stain augmentation. How do you use the labels in the source domain and what is this label ?</p>

      <p>Experiments :</p>

      <p>For the H&amp;E experiments, you have 5 centers. For the Hema dataset, you have only one center right ?
What is not clear to me is how you mix up ? What it the source and target domain ? 
C1 versus C2 to C5. C1 versus HEMA ? Etc.</p>

      <p>Your experiments then show a more robust cross-domain interpolation that stabilize the results over different centers and staining procedures which is a very good achievement. 
In supplemental material, it is shown that random self-perturbation improve robustness. Is it so different than mainstream data augmentation methods?</p>

      <p>Sorry for my misunderstanding, but I do not really understand the Hema experiment : how is it carried on and what is the conclusion.</p>

      <p>All in all, the work is interesting but according to me deserves to be better explained.</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>it is an interesting issue about color in tissue images and variability. Much work have been proposed on the topic. I do not really see how to use this one in pracrice.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-3">Review #3</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The authors present a augmentation method for histopathological slides. In their approach, images are decomposed into color and density matrix in source and target domain. mixing the color matrices of source and target allows a augmentation that covers the target space and leads to improved results for two challenges: tumor classification and single cell instance segmenation</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>The authors address an important problem with a novel, easy solution that seems to outperform other methods on two tasks.</li>
        <li>The figures illustrate the approach very nicely</li>
      </ul>

    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <ul>
        <li>Code and Hema dataset is not publicly available</li>
        <li>Setting the delta parameter is ad hoc</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Excellent</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <ul>
        <li>Code and Hema dataset is not publicly available</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <ul>
        <li>Abstract wordiing can be improved</li>
        <li>Provide Code and Data</li>
        <li>Provide strategies for setting delta parameter</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>accept (8)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <ul>
        <li>A novel, simple method for stain augmentation</li>
        <li>Paper is written clearly and concisely</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>1</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>7</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<hr />
<h1 id="metareview-id">Meta-Review(s)</h1>

<h2 id="primary-meta-review">Primary Meta-Review</h2>
<ul>
  <li><strong>Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal.</strong>
    <blockquote>
      <p>The authors describe a novel augmentation method for histopathological slides. In their approach, images in both source and target domains are decomposed into stain amount and colour matrices based on a previously proposed stain decomposition method (sparse NMF). Mixing of the colour matrices of source and target allows a ‘mix-up’ augmentation that covers the target space and leads to improved results for two downstream tasks: tumour classification and single-cell instance segmentation. All reviewers think the method is simple and effective, thus recommending paper acceptance. Yet authors could adapt reviewers’ comments in their final submission and also consider releasing the Hema dataset and code to promote reproducibility. In Addition to these comments, I also have a 
concern that whether the relatively slow speed of Sparse NMF stain decomposition will affect the practical usage of the proposed augmentation method. Since augmentation usually requires real-time performance. Maybe authors can also bring that into the discussion.</p>

    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<hr />
<h1 id="authorFeedback-id">Author Feedback</h1>
<blockquote>
  <p>We appreciate all the valuable comments from the reviews. In the following, we would like to address the following concerns raised in the reviews:
(1) The speed of SNMF stain decomposition will affect the practical usage of the proposed augmentation method (meta-reviewer). 
(2) The availability of the Hema dataset and the code (R1, R5). 
(3) The practical usage for unsupervised domain generalization (R1, R3).
(4) Random self-perturbation of stain matrix (R3).</p>

  <p>For (1), to prevent repeating SNMF decomposition, the stain matrices of images are pre-computed using SNMF before the training procedure. That is, we only compute stain matrices once and use them repeatedly during training. The computational time of SNMF decomposition for for a single image in CAMELYON17 and Hema takes 1.14 and 2.40 seconds, respectively, measured on an Intel Xeon CPU E5-2697 v3.</p>

  <p>For (2), we will release our training/test code working on the CAMELYON17 dataset upon formal acceptance. The CAMELYON17 dataset can be obtained from the official website (https://camelyon17.grand-challenge.org/). However, the Hema dataset is not publicly available due to IRB requirements for privacy protection.</p>

  <p>For (3), we specify a practical scenario below where the proposed method is practical and applicable. We assume that we have a well-annotated histopathology dataset collected from one medical center. The annotated dataset can be used to train a good model for data in this center. However, the model performance is degraded when applying this model to data collected in other centers due to the substantial color domain gap. Fine-tuning this model is not a feasible solution to this issue because of the lack of annotations from the new data. Our method helps at this moment where we only need the stain matrix of the new coming data. This is why we call our method “unsupervised” because we do not need the labels of new data. The model can be retrained using the original well-annotated histopathology dataset and the stain matrices of the new data. In our experiments, we simulate the described situation, i.e., training the model on C1 and applying it to C2-C5 of the CAMELYON17 dataset as well as training on M1 and applying to M2 of the Hema dataset. The experimental results demonstrate that the proposed method can eliminate domain gaps in an unsupervised way.</p>

  <p>For (4), we would like to clarify about the results of random self-perturbation of the stain matrix. The random self-perturbation of a stain matrix is a special case of stain mix-up where the stain matrix is mixed with random noises. It is reasonably expected that self-perturbation of a stain matrix improves robustness as well.</p>
</blockquote>

<p><br /><br />
<a href=""><span style="color:#ff9900"><b>back to top</b></span></a></p>

<hr />


  </div>

  <div class="post-info">
    <!--
    <div class="post-date">
      Poster presentation date:  
      0310-12-31
      -->
      <!--
      
        ,
        updated at 
        0311-01-01
      
      .
      
    </div>
    -->
    <!--
    
    <div class="post-author">
      Author: Kitty K. Wong
    </div>
    
    -->
    <div class="post-categories">
      <span><b>Topic(s): </b></span>
      
      <a 
        href="kittywong/categories#Machine Learning - Domain adaptation"
        class="post-category">
        Machine Learning - Domain adaptation
      </a> |
      
      <a 
        href="kittywong/categories#Computational (Integrative) Pathology"
        class="post-category">
        Computational (Integrative) Pathology
      </a> |
      
      <a 
        href="kittywong/categories#Image Segmentation"
        class="post-category">
        Image Segmentation
      </a> |
      
      <a 
        href="kittywong/categories#Modalities - Histopathology"
        class="post-category">
        Modalities - Histopathology
      </a> |
      
    </div>
    <div class="post-tags">
      <!--<span>Author List</span>-->
      <span><b> Author(s): </b></span>
      
      <a href="kittywong/tags#Chang, Jia-Ren"
        class="post-category">
        Chang, Jia-Ren
      </a> |  
      
      <a href="kittywong/tags#Wu, Min-Sheng"
        class="post-category">
        Wu, Min-Sheng
      </a> |  
      
      <a href="kittywong/tags#Yu, Wei-Hsiang"
        class="post-category">
        Yu, Wei-Hsiang
      </a> |  
      
      <a href="kittywong/tags#Chen, Chi-Chung"
        class="post-category">
        Chen, Chi-Chung
      </a> |  
      
      <a href="kittywong/tags#Yang, Cheng-Kung"
        class="post-category">
        Yang, Cheng-Kung
      </a> |  
      
      <a href="kittywong/tags#Lin, Yen-Yu"
        class="post-category">
        Lin, Yen-Yu
      </a> |  
      
      <a href="kittywong/tags#Yeh, Chao-Yuan"
        class="post-category">
        Yeh, Chao-Yuan
      </a> |  
      
    </div>
    <div class="post-other">
      
      <div>
        <span><b>
          Next paper: 
        </b>
        </span>
        <a href="/0311/12/31/Paper0335">
          A Unified Hyper-GAN Model for Unpaired Multi-contrast MR Image Translation
        </a>
      </div>
      
      
      <div>
        <span><b>
          Previous paper: 
        </b>
        </span>
        <a href="/0309/12/31/Paper1007">
          Multi-view analysis of unregistered medical images using cross-view transformers
        </a>
      </div>
      
    </div>
    
  </div>
</article>

      </main>
      <footer class="container-footer">
        <div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. Kitty K. Wong, The MICCAI Society
  </span>
</div>
<!--
<div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. example.com.
  </span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper-Github">Jekyll-Paper-Github</a>.
  </span>
</div>
-->

      </footer>
    </div>
  </body>
</html>
