<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Federated Contrastive Learning for Decentralized Unlabeled Medical Images | MICCAI 2021 - Accepted Papers and Reviews</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Federated Contrastive Learning for Decentralized Unlabeled Medical Images" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Nanqing Dong, Irina Voiculescu Abstract A label-efficient paradigm in computer vision is based on self-supervised contrastive pre-training on unlabeled data followed by fine-tuning with a small number of labels. Making practical use of a federated computing environment in the clinical domain and learning on medical images poses specific challenges. In this work, we propose FedMoCo, a robust federated contrastive learning (FCL) framework, which makes efficient use of decentralized unlabeled medical data. FedMoCo has two novel modules: metadata transfer, an inter-node statistical data augmentation module, and self-adaptive aggregation, an aggregation module based on representational similarity analysis. To the best of our knowledge, this is the first FCL work on medical images. Our experiments show that FedMoCo can consistently outperform FedAvg, a seminal federated learning framework, in extracting meaningful representations for downstream tasks. We further show that FedMoCo can substantially reduce the amount of labeled data required in a downstream task, such as COVID-19 detection, to achieve a reasonable performance. Link to paper https://doi.org/10.1007/978-3-030-87199-4_36 Link to the code repository N/A Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The authors transfer the MoCo contrastive learning approach to a federated learning setting. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. first application of MoCo in federated setting novel way of aggregating models after federated training round. The key novelty is the way to calculate importance of each update. Tailored to contrastive learning. statistical augmentation to account for nodes with different distributions in the data Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. missing explanations and references (e.g. oracle) over-complication of simple aspects (e.g. fedavg) Please rate the clarity and organization of this paper Satisfactory Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance datasets, models methods and hyperparameters are clearly stated → good reproducibility Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html less overcomplication in the description in the paper back up statements (e.g. why use relu when it cuts off all negative values whereas sigmoid keeps it &gt;0) standard deviation of results overlap, yet authors claim that methods outperform fed avg → evaluation of statistical significance should be done? federated learning is not a protocol but a collection of techniques and also not sufficiently privacy preserving it only gives control about governance and ownership (see Kaissis et al. 2020) Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? The overall approach is interesting for the miccai community. There is some novelty to the proposed method, but often this is marginal (statistical augmentation + aggregation). The description of methods lacks clarity and justifications. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 5 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper This paper proposes a novel model aggregation technique based on contrastive learning, which the authors show perform better compared to federated averaging. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The method could adequately address some of the inherent problems in the federated averaging approach, which are sensitivity to domain shift between different collaborators and the time required for model convergence. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors describe a “warm-up” period, which in my opinion is not required if a good initial model is used. Additionally, they are proposing multiple epochs of training, which can take the trained model’s gradients at local sites farther apart and bringing them to convergence might be tougher as the dataset and the federation grows. This is a major concern in a real-world scenario and appropriate experimentation is needed to address this in this paper. The authors seem to have also missed some very related literature: https://doi.org/10.1038/s41598-020-69250-1 https://doi.org/10.1038/s41746-021-00431-6 Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The method and datasets being used are described in detail, but without the source code reproducibility is a concern. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Although I agree with the authors that federated averaging takes much longer for convergence, in practical terms, if appropriate data harmonization is done well across the participating nodes and a model trained on publicly available data (for the problem at hand) is used for initialization, model convergence is fairly quick. I urge the authors to perform the appropriate experiments to address the main weakness of the paper I mentioned above. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Additional experimentation is needed, especially by using a strong initial model as the common starting point for all participants. What is the ranking of this paper in your review stack? 5 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper This paper proposed a novel FL scheme using contrastive learning, meta-data transferring, and self-adaptive aggregation to utilize the unlabeled distributed data and address the non-iid problem. The method is validated on CXR from different sources. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Strengths: 1) How to utilize unlabeled data and address the non-iid distributed data are two important problems in FL. 2) The authors added a few new elements to FL and performed ablation studies in the experiment. 3) The writing is overall clear, and the methods are easy to follow. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Main Weakness: 1) A few wrong statements: 1-1) “Second, FL assumes non-IID data distribution” This is not an assumption for FL by default. It can be a character or challenge in FL. 1-2) “Note, FedAvg is robust against domain shift cross data nodes.” This is incorrect. Please see [1-3]. 2) Method: For the self-adaptive aggregation part, Eq 7 assigns larger weights to local models with a smaller r_k (representational similarity). A smaller r_k indicates a larger “difference between the ranks of i-th elements of the lower triangular of RDM for f{\theta^{t-1}} and RDM for f{\theta^t_k}.” Then the authors stated that “smaller rk indicates there is a bigger update in the representations, i.e., node k has extracted more meaningful representations.” I suspect the above statement that small rk means meaningful representations. If I understand it correctly, this seems opposite to the optimization philosophy in FL for the convergence purpose, where people try to bound the client shift (differences between the local and global weights or gradients) in each local updating round [1-3]. 3) Experiment: 3-1) The authors addressed the important non-iid problem but only compared FedMoCo with FedAvg. Comparing with the FL methods specifically for non-iid data (e.g. [1-2]) will make the comparison more powerful. 3-2) The ablation study results in Table 3-4 show the comparable performance (seems not significantly different) of the three variations of FedMoCo. I could not find the discussion about whether metadata transfer and self-adaptive aggregation are really helpful in the experiments. References: [1] Li, Tian, et al. “Federated optimization in heterogeneous networks.” MLSys (2020). [2] Karimireddy, Sai Praneeth, et al. “SCAFFOLD: Stochastic controlled averaging for federated learning.” ICML (2020). [3] Li, Xiang, et al. “On the convergence of fedavg on non-iid data.” ICLR (2020). Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Most of the implementation details, such as platform, network architectures, learning parameters are listed. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html In addition the comments in “Main Weakness”, I have the follow minor comments. 1) “In contrast to previous works [26, 7, 3], we add a ReLU function between the last fully-connected layer and a L2-normalization layer, which will project all extracted features into a non-negative feature space.” What is the motivation of your modification? 2) There are many hyperparameters (i.e, \eta) are introduced but not well-discussed. I will be helpful if the authors could provide some justifications. 3) Typos: “there are a CNN encoder”;”and \theta_k^0 is nominated by \theta_k^t” –&gt; do you mean “\theta_0^t is dominated by”, otherwise I hope the authors could explain more the statement. Please state your overall opinion of the paper probably reject (4) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Overall this paper provides an interesting idea and addresses the important problems in FL, which is also realistic in medical image analysis. However, I have concerns regarding the methods, experiments, and some statements in the submission. Please see the comments in “Main Weakness” and “Detailed Comments.” What is the ranking of this paper in your review stack? 3 Number of papers in your stack 4 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The reviewers agree that the combination of contrastive learning in a FL setting is interesting and that the suggested method may have some novelty, but there are major concerns. The key strengths of the submission are that it suggests a method for a relevant topic and proposes an aggregation method for FL based on the importance. However, there are major concerns regarding the description of the method as well as the conducted experiments. I would like to invite the authors to address in particular the issues raised related to: Statistical Significance of the improvements Experiments with stronger initial model and comparison to FL that can tackle non-iid data Clarification of several statements and descriptions What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 7 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. This paper proposes contrastive FL for the medical domain and the overall feedback is quite positive. In the rebuttal, the authors addressed the raised concerns convincingly. In particular, they performed a significance test, an additional experiment (as requested by R2) with a pretrained model and will clarify the statements. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 2 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The paper proposes to apply contrastive learning with FL scheme on medical images. It effectively utilizes the unlabeled data and has achieved good performance. The idea is somewhat interesting but the implementation (data augmentation + module aggregation) seems relatively incremental. The authors have roughly addressed the comments in the rebuttal. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 11 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The main criticisms of Reviewers and Meta-reviewers mainly concern the apparently marginal improvement obtained with the proposed framework, as well as the lack of a comparison with respect to FL paradigms more robust to the non-IID scenario. There is also a general lack of clarity and some wrong statements made in the manuscript. The rebuttal reports the statistical quantification of the improvements, which appears to be significant at the level p&lt;0.01 (upper-tailed alternative hypothesis, no correction for multiple comparison). No improvement has been reported when adopting pre-trained models at the client side, while FedProx was tested to include a benchmark robust to non-IID clients (Table 4 although Table 3 is mentioned in the rebuttal). Overall, results seem indicate a positive contribution of the proposed approach. Although the experimental improvements do not appear striking, the reported results seem encouraging and address a relevant problem in the application of LF to medical imaging problems. The methodological contribution was also found interesting and sufficiently motivated. The rebuttal properly addressed some of the major remarks. On a side note, the authors are encouraged to fix and clarify several of the statements made throughout the paper (e.g. privacy preserving properties of FL, FedAvg and non-IID setting). After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 9 Author Feedback We would like to thank the meta-reviewer for the invitation and all reviewers for the constructive comments. We wish to clarify that the main contribution is not intended to propose a new FL method; rather, we propose federated contrastive learning on medical data. We are not aware of any similar studies in the literature. (1) Statistical significance of the improvements: We perform paired comparisons between the proposed method and the baseline methods initialized with the same random seed. Both the original and new results suggest that, given the same initial model, the proposed method outperforms the baseline methods consistently. We run a paired sample t-test with the upper-tailed alternative hypothesis and the p-values are less than 0.01. We will clarify these improvements in the final version. (2) Experiments with stronger initial model: We agree with R2 that a strong initial model could accelerate the convergence. However, we wish to emphasize our aim to show that the proposed method can work without any pre-trained weights, in an unsupervised fashion [3,4,5,7]. This is one of our contributions. As R2 suggests, we have re-trained the model using weights pre-trained on ImageNet (via PyTorch). There is no performance gain in LCP. We think this happens because of the domain shift between ImageNet and CXRs, and ImageNet pre-trained weights make the model converge faster at the cost of a slight drop (2-3%) in performance. Since we are working on unlabeled data, the benefit of using initial models pre-trained on irrelevant datasets (e.g. ImageNet vs medical data) for federated contrastive learning remains an open question. We will include this discussion in the final version. (3) Comparison with FL that can tackle non-iid data: We wish to clarify that the optimization goals of unsupervised contrastive learning and supervised learning are not aligned, especially under FL. The papers suggested by R3 for FL on non-iid data are mainly designed and validated for supervised methods. Yet none of these papers address contrastive learning specifically. So they are doing a similar job as FedAvg but do not directly improve the contrastive learning performance. By contrast, our method is designed to improve federated contrastive learning on medical data, which happens to be non-iid. To ease your concern, we have compared FedMoCo with FedProx (Federated optimization in heterogeneous networks) in one of our scenario (Table 3). FedProx (95.17) got similar results with FedAvg (95.25) but lower results on average than FedMoCo (96.02). Moreover, for downstream task in Table 5, we have FedProx (86.98), FedAvg (87.24), and FedMoCo (91.56). We guess the proximal term of FedProx does not help in contrastive learning. Further discussion of supervised FL can fit in the final version. Also, we wish to highlight that FedAvg does not make any assumptions in the learning paradigms, which is an ideal robust baseline. (4) Clarification of several statements and descriptions: First, for R3’s question “2) Method”, we aim to increase the learning difficulty of contrastive learning to learn better representations [4,7,15,23]. Second, we use ReLU because Box-Cox power transformation (Eq.3) requires non-negative values. Third, Oracle is MoCo trained on a single node. Such minor issues will be addressed easily in the final version. back to top" />
<meta property="og:description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Nanqing Dong, Irina Voiculescu Abstract A label-efficient paradigm in computer vision is based on self-supervised contrastive pre-training on unlabeled data followed by fine-tuning with a small number of labels. Making practical use of a federated computing environment in the clinical domain and learning on medical images poses specific challenges. In this work, we propose FedMoCo, a robust federated contrastive learning (FCL) framework, which makes efficient use of decentralized unlabeled medical data. FedMoCo has two novel modules: metadata transfer, an inter-node statistical data augmentation module, and self-adaptive aggregation, an aggregation module based on representational similarity analysis. To the best of our knowledge, this is the first FCL work on medical images. Our experiments show that FedMoCo can consistently outperform FedAvg, a seminal federated learning framework, in extracting meaningful representations for downstream tasks. We further show that FedMoCo can substantially reduce the amount of labeled data required in a downstream task, such as COVID-19 detection, to achieve a reasonable performance. Link to paper https://doi.org/10.1007/978-3-030-87199-4_36 Link to the code repository N/A Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The authors transfer the MoCo contrastive learning approach to a federated learning setting. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. first application of MoCo in federated setting novel way of aggregating models after federated training round. The key novelty is the way to calculate importance of each update. Tailored to contrastive learning. statistical augmentation to account for nodes with different distributions in the data Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. missing explanations and references (e.g. oracle) over-complication of simple aspects (e.g. fedavg) Please rate the clarity and organization of this paper Satisfactory Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance datasets, models methods and hyperparameters are clearly stated → good reproducibility Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html less overcomplication in the description in the paper back up statements (e.g. why use relu when it cuts off all negative values whereas sigmoid keeps it &gt;0) standard deviation of results overlap, yet authors claim that methods outperform fed avg → evaluation of statistical significance should be done? federated learning is not a protocol but a collection of techniques and also not sufficiently privacy preserving it only gives control about governance and ownership (see Kaissis et al. 2020) Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? The overall approach is interesting for the miccai community. There is some novelty to the proposed method, but often this is marginal (statistical augmentation + aggregation). The description of methods lacks clarity and justifications. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 5 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper This paper proposes a novel model aggregation technique based on contrastive learning, which the authors show perform better compared to federated averaging. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The method could adequately address some of the inherent problems in the federated averaging approach, which are sensitivity to domain shift between different collaborators and the time required for model convergence. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors describe a “warm-up” period, which in my opinion is not required if a good initial model is used. Additionally, they are proposing multiple epochs of training, which can take the trained model’s gradients at local sites farther apart and bringing them to convergence might be tougher as the dataset and the federation grows. This is a major concern in a real-world scenario and appropriate experimentation is needed to address this in this paper. The authors seem to have also missed some very related literature: https://doi.org/10.1038/s41598-020-69250-1 https://doi.org/10.1038/s41746-021-00431-6 Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The method and datasets being used are described in detail, but without the source code reproducibility is a concern. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Although I agree with the authors that federated averaging takes much longer for convergence, in practical terms, if appropriate data harmonization is done well across the participating nodes and a model trained on publicly available data (for the problem at hand) is used for initialization, model convergence is fairly quick. I urge the authors to perform the appropriate experiments to address the main weakness of the paper I mentioned above. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Additional experimentation is needed, especially by using a strong initial model as the common starting point for all participants. What is the ranking of this paper in your review stack? 5 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper This paper proposed a novel FL scheme using contrastive learning, meta-data transferring, and self-adaptive aggregation to utilize the unlabeled distributed data and address the non-iid problem. The method is validated on CXR from different sources. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Strengths: 1) How to utilize unlabeled data and address the non-iid distributed data are two important problems in FL. 2) The authors added a few new elements to FL and performed ablation studies in the experiment. 3) The writing is overall clear, and the methods are easy to follow. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Main Weakness: 1) A few wrong statements: 1-1) “Second, FL assumes non-IID data distribution” This is not an assumption for FL by default. It can be a character or challenge in FL. 1-2) “Note, FedAvg is robust against domain shift cross data nodes.” This is incorrect. Please see [1-3]. 2) Method: For the self-adaptive aggregation part, Eq 7 assigns larger weights to local models with a smaller r_k (representational similarity). A smaller r_k indicates a larger “difference between the ranks of i-th elements of the lower triangular of RDM for f{\theta^{t-1}} and RDM for f{\theta^t_k}.” Then the authors stated that “smaller rk indicates there is a bigger update in the representations, i.e., node k has extracted more meaningful representations.” I suspect the above statement that small rk means meaningful representations. If I understand it correctly, this seems opposite to the optimization philosophy in FL for the convergence purpose, where people try to bound the client shift (differences between the local and global weights or gradients) in each local updating round [1-3]. 3) Experiment: 3-1) The authors addressed the important non-iid problem but only compared FedMoCo with FedAvg. Comparing with the FL methods specifically for non-iid data (e.g. [1-2]) will make the comparison more powerful. 3-2) The ablation study results in Table 3-4 show the comparable performance (seems not significantly different) of the three variations of FedMoCo. I could not find the discussion about whether metadata transfer and self-adaptive aggregation are really helpful in the experiments. References: [1] Li, Tian, et al. “Federated optimization in heterogeneous networks.” MLSys (2020). [2] Karimireddy, Sai Praneeth, et al. “SCAFFOLD: Stochastic controlled averaging for federated learning.” ICML (2020). [3] Li, Xiang, et al. “On the convergence of fedavg on non-iid data.” ICLR (2020). Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Most of the implementation details, such as platform, network architectures, learning parameters are listed. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html In addition the comments in “Main Weakness”, I have the follow minor comments. 1) “In contrast to previous works [26, 7, 3], we add a ReLU function between the last fully-connected layer and a L2-normalization layer, which will project all extracted features into a non-negative feature space.” What is the motivation of your modification? 2) There are many hyperparameters (i.e, \eta) are introduced but not well-discussed. I will be helpful if the authors could provide some justifications. 3) Typos: “there are a CNN encoder”;”and \theta_k^0 is nominated by \theta_k^t” –&gt; do you mean “\theta_0^t is dominated by”, otherwise I hope the authors could explain more the statement. Please state your overall opinion of the paper probably reject (4) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Overall this paper provides an interesting idea and addresses the important problems in FL, which is also realistic in medical image analysis. However, I have concerns regarding the methods, experiments, and some statements in the submission. Please see the comments in “Main Weakness” and “Detailed Comments.” What is the ranking of this paper in your review stack? 3 Number of papers in your stack 4 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The reviewers agree that the combination of contrastive learning in a FL setting is interesting and that the suggested method may have some novelty, but there are major concerns. The key strengths of the submission are that it suggests a method for a relevant topic and proposes an aggregation method for FL based on the importance. However, there are major concerns regarding the description of the method as well as the conducted experiments. I would like to invite the authors to address in particular the issues raised related to: Statistical Significance of the improvements Experiments with stronger initial model and comparison to FL that can tackle non-iid data Clarification of several statements and descriptions What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 7 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. This paper proposes contrastive FL for the medical domain and the overall feedback is quite positive. In the rebuttal, the authors addressed the raised concerns convincingly. In particular, they performed a significance test, an additional experiment (as requested by R2) with a pretrained model and will clarify the statements. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 2 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The paper proposes to apply contrastive learning with FL scheme on medical images. It effectively utilizes the unlabeled data and has achieved good performance. The idea is somewhat interesting but the implementation (data augmentation + module aggregation) seems relatively incremental. The authors have roughly addressed the comments in the rebuttal. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 11 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The main criticisms of Reviewers and Meta-reviewers mainly concern the apparently marginal improvement obtained with the proposed framework, as well as the lack of a comparison with respect to FL paradigms more robust to the non-IID scenario. There is also a general lack of clarity and some wrong statements made in the manuscript. The rebuttal reports the statistical quantification of the improvements, which appears to be significant at the level p&lt;0.01 (upper-tailed alternative hypothesis, no correction for multiple comparison). No improvement has been reported when adopting pre-trained models at the client side, while FedProx was tested to include a benchmark robust to non-IID clients (Table 4 although Table 3 is mentioned in the rebuttal). Overall, results seem indicate a positive contribution of the proposed approach. Although the experimental improvements do not appear striking, the reported results seem encouraging and address a relevant problem in the application of LF to medical imaging problems. The methodological contribution was also found interesting and sufficiently motivated. The rebuttal properly addressed some of the major remarks. On a side note, the authors are encouraged to fix and clarify several of the statements made throughout the paper (e.g. privacy preserving properties of FL, FedAvg and non-IID setting). After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 9 Author Feedback We would like to thank the meta-reviewer for the invitation and all reviewers for the constructive comments. We wish to clarify that the main contribution is not intended to propose a new FL method; rather, we propose federated contrastive learning on medical data. We are not aware of any similar studies in the literature. (1) Statistical significance of the improvements: We perform paired comparisons between the proposed method and the baseline methods initialized with the same random seed. Both the original and new results suggest that, given the same initial model, the proposed method outperforms the baseline methods consistently. We run a paired sample t-test with the upper-tailed alternative hypothesis and the p-values are less than 0.01. We will clarify these improvements in the final version. (2) Experiments with stronger initial model: We agree with R2 that a strong initial model could accelerate the convergence. However, we wish to emphasize our aim to show that the proposed method can work without any pre-trained weights, in an unsupervised fashion [3,4,5,7]. This is one of our contributions. As R2 suggests, we have re-trained the model using weights pre-trained on ImageNet (via PyTorch). There is no performance gain in LCP. We think this happens because of the domain shift between ImageNet and CXRs, and ImageNet pre-trained weights make the model converge faster at the cost of a slight drop (2-3%) in performance. Since we are working on unlabeled data, the benefit of using initial models pre-trained on irrelevant datasets (e.g. ImageNet vs medical data) for federated contrastive learning remains an open question. We will include this discussion in the final version. (3) Comparison with FL that can tackle non-iid data: We wish to clarify that the optimization goals of unsupervised contrastive learning and supervised learning are not aligned, especially under FL. The papers suggested by R3 for FL on non-iid data are mainly designed and validated for supervised methods. Yet none of these papers address contrastive learning specifically. So they are doing a similar job as FedAvg but do not directly improve the contrastive learning performance. By contrast, our method is designed to improve federated contrastive learning on medical data, which happens to be non-iid. To ease your concern, we have compared FedMoCo with FedProx (Federated optimization in heterogeneous networks) in one of our scenario (Table 3). FedProx (95.17) got similar results with FedAvg (95.25) but lower results on average than FedMoCo (96.02). Moreover, for downstream task in Table 5, we have FedProx (86.98), FedAvg (87.24), and FedMoCo (91.56). We guess the proximal term of FedProx does not help in contrastive learning. Further discussion of supervised FL can fit in the final version. Also, we wish to highlight that FedAvg does not make any assumptions in the learning paradigms, which is an ideal robust baseline. (4) Clarification of several statements and descriptions: First, for R3’s question “2) Method”, we aim to increase the learning difficulty of contrastive learning to learn better representations [4,7,15,23]. Second, we use ReLU because Box-Cox power transformation (Eq.3) requires non-negative values. Third, Oracle is MoCo trained on a single node. Such minor issues will be addressed easily in the final version. back to top" />
<link rel="canonical" href="https://kittywong.github.io/kittywong/0335/12/31/Paper2060" />
<meta property="og:url" content="https://kittywong.github.io/kittywong/0335/12/31/Paper2060" />
<meta property="og:site_name" content="MICCAI 2021 - Accepted Papers and Reviews" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="0335-12-31T23:58:56-05:17" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Federated Contrastive Learning for Decentralized Unlabeled Medical Images" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://kittywong.github.io/kittywong/0335/12/31/Paper2060"},"@type":"BlogPosting","url":"https://kittywong.github.io/kittywong/0335/12/31/Paper2060","headline":"Federated Contrastive Learning for Decentralized Unlabeled Medical Images","dateModified":"0336-01-02T00:00:00-05:17","datePublished":"0335-12-31T23:58:56-05:17","description":"Paper Info Reviews Meta-review(s) Author Feedback Authors Nanqing Dong, Irina Voiculescu Abstract A label-efficient paradigm in computer vision is based on self-supervised contrastive pre-training on unlabeled data followed by fine-tuning with a small number of labels. Making practical use of a federated computing environment in the clinical domain and learning on medical images poses specific challenges. In this work, we propose FedMoCo, a robust federated contrastive learning (FCL) framework, which makes efficient use of decentralized unlabeled medical data. FedMoCo has two novel modules: metadata transfer, an inter-node statistical data augmentation module, and self-adaptive aggregation, an aggregation module based on representational similarity analysis. To the best of our knowledge, this is the first FCL work on medical images. Our experiments show that FedMoCo can consistently outperform FedAvg, a seminal federated learning framework, in extracting meaningful representations for downstream tasks. We further show that FedMoCo can substantially reduce the amount of labeled data required in a downstream task, such as COVID-19 detection, to achieve a reasonable performance. Link to paper https://doi.org/10.1007/978-3-030-87199-4_36 Link to the code repository N/A Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper The authors transfer the MoCo contrastive learning approach to a federated learning setting. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. first application of MoCo in federated setting novel way of aggregating models after federated training round. The key novelty is the way to calculate importance of each update. Tailored to contrastive learning. statistical augmentation to account for nodes with different distributions in the data Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. missing explanations and references (e.g. oracle) over-complication of simple aspects (e.g. fedavg) Please rate the clarity and organization of this paper Satisfactory Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance datasets, models methods and hyperparameters are clearly stated → good reproducibility Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html less overcomplication in the description in the paper back up statements (e.g. why use relu when it cuts off all negative values whereas sigmoid keeps it &gt;0) standard deviation of results overlap, yet authors claim that methods outperform fed avg → evaluation of statistical significance should be done? federated learning is not a protocol but a collection of techniques and also not sufficiently privacy preserving it only gives control about governance and ownership (see Kaissis et al. 2020) Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? The overall approach is interesting for the miccai community. There is some novelty to the proposed method, but often this is marginal (statistical augmentation + aggregation). The description of methods lacks clarity and justifications. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 5 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper This paper proposes a novel model aggregation technique based on contrastive learning, which the authors show perform better compared to federated averaging. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The method could adequately address some of the inherent problems in the federated averaging approach, which are sensitivity to domain shift between different collaborators and the time required for model convergence. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors describe a “warm-up” period, which in my opinion is not required if a good initial model is used. Additionally, they are proposing multiple epochs of training, which can take the trained model’s gradients at local sites farther apart and bringing them to convergence might be tougher as the dataset and the federation grows. This is a major concern in a real-world scenario and appropriate experimentation is needed to address this in this paper. The authors seem to have also missed some very related literature: https://doi.org/10.1038/s41598-020-69250-1 https://doi.org/10.1038/s41746-021-00431-6 Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The method and datasets being used are described in detail, but without the source code reproducibility is a concern. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Although I agree with the authors that federated averaging takes much longer for convergence, in practical terms, if appropriate data harmonization is done well across the participating nodes and a model trained on publicly available data (for the problem at hand) is used for initialization, model convergence is fairly quick. I urge the authors to perform the appropriate experiments to address the main weakness of the paper I mentioned above. Please state your overall opinion of the paper borderline accept (6) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Additional experimentation is needed, especially by using a strong initial model as the common starting point for all participants. What is the ranking of this paper in your review stack? 5 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper This paper proposed a novel FL scheme using contrastive learning, meta-data transferring, and self-adaptive aggregation to utilize the unlabeled distributed data and address the non-iid problem. The method is validated on CXR from different sources. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Strengths: 1) How to utilize unlabeled data and address the non-iid distributed data are two important problems in FL. 2) The authors added a few new elements to FL and performed ablation studies in the experiment. 3) The writing is overall clear, and the methods are easy to follow. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Main Weakness: 1) A few wrong statements: 1-1) “Second, FL assumes non-IID data distribution” This is not an assumption for FL by default. It can be a character or challenge in FL. 1-2) “Note, FedAvg is robust against domain shift cross data nodes.” This is incorrect. Please see [1-3]. 2) Method: For the self-adaptive aggregation part, Eq 7 assigns larger weights to local models with a smaller r_k (representational similarity). A smaller r_k indicates a larger “difference between the ranks of i-th elements of the lower triangular of RDM for f\u0012{\\theta^{t-1}} and RDM for f\u0012{\\theta^t_k}.” Then the authors stated that “smaller rk indicates there is a bigger update in the representations, i.e., node k has extracted more meaningful representations.” I suspect the above statement that small rk means meaningful representations. If I understand it correctly, this seems opposite to the optimization philosophy in FL for the convergence purpose, where people try to bound the client shift (differences between the local and global weights or gradients) in each local updating round [1-3]. 3) Experiment: 3-1) The authors addressed the important non-iid problem but only compared FedMoCo with FedAvg. Comparing with the FL methods specifically for non-iid data (e.g. [1-2]) will make the comparison more powerful. 3-2) The ablation study results in Table 3-4 show the comparable performance (seems not significantly different) of the three variations of FedMoCo. I could not find the discussion about whether metadata transfer and self-adaptive aggregation are really helpful in the experiments. References: [1] Li, Tian, et al. “Federated optimization in heterogeneous networks.” MLSys (2020). [2] Karimireddy, Sai Praneeth, et al. “SCAFFOLD: Stochastic controlled averaging for federated learning.” ICML (2020). [3] Li, Xiang, et al. “On the convergence of fedavg on non-iid data.” ICLR (2020). Please rate the clarity and organization of this paper Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Most of the implementation details, such as platform, network architectures, learning parameters are listed. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html In addition the comments in “Main Weakness”, I have the follow minor comments. 1) “In contrast to previous works [26, 7, 3], we add a ReLU function between the last fully-connected layer and a L2-normalization layer, which will project all extracted features into a non-negative feature space.” What is the motivation of your modification? 2) There are many hyperparameters (i.e, \\eta) are introduced but not well-discussed. I will be helpful if the authors could provide some justifications. 3) Typos: “there are a CNN encoder”;”and \\theta_k^0 is nominated by \\theta_k^t” –&gt; do you mean “\\theta_0^t is dominated by”, otherwise I hope the authors could explain more the statement. Please state your overall opinion of the paper probably reject (4) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Overall this paper provides an interesting idea and addresses the important problems in FL, which is also realistic in medical image analysis. However, I have concerns regarding the methods, experiments, and some statements in the submission. Please see the comments in “Main Weakness” and “Detailed Comments.” What is the ranking of this paper in your review stack? 3 Number of papers in your stack 4 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The reviewers agree that the combination of contrastive learning in a FL setting is interesting and that the suggested method may have some novelty, but there are major concerns. The key strengths of the submission are that it suggests a method for a relevant topic and proposes an aggregation method for FL based on the importance. However, there are major concerns regarding the description of the method as well as the conducted experiments. I would like to invite the authors to address in particular the issues raised related to: Statistical Significance of the improvements Experiments with stronger initial model and comparison to FL that can tackle non-iid data Clarification of several statements and descriptions What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 7 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. This paper proposes contrastive FL for the medical domain and the overall feedback is quite positive. In the rebuttal, the authors addressed the raised concerns convincingly. In particular, they performed a significance test, an additional experiment (as requested by R2) with a pretrained model and will clarify the statements. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 2 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The paper proposes to apply contrastive learning with FL scheme on medical images. It effectively utilizes the unlabeled data and has achieved good performance. The idea is somewhat interesting but the implementation (data augmentation + module aggregation) seems relatively incremental. The authors have roughly addressed the comments in the rebuttal. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 11 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The main criticisms of Reviewers and Meta-reviewers mainly concern the apparently marginal improvement obtained with the proposed framework, as well as the lack of a comparison with respect to FL paradigms more robust to the non-IID scenario. There is also a general lack of clarity and some wrong statements made in the manuscript. The rebuttal reports the statistical quantification of the improvements, which appears to be significant at the level p&lt;0.01 (upper-tailed alternative hypothesis, no correction for multiple comparison). No improvement has been reported when adopting pre-trained models at the client side, while FedProx was tested to include a benchmark robust to non-IID clients (Table 4 although Table 3 is mentioned in the rebuttal). Overall, results seem indicate a positive contribution of the proposed approach. Although the experimental improvements do not appear striking, the reported results seem encouraging and address a relevant problem in the application of LF to medical imaging problems. The methodological contribution was also found interesting and sufficiently motivated. The rebuttal properly addressed some of the major remarks. On a side note, the authors are encouraged to fix and clarify several of the statements made throughout the paper (e.g. privacy preserving properties of FL, FedAvg and non-IID setting). After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 9 Author Feedback We would like to thank the meta-reviewer for the invitation and all reviewers for the constructive comments. We wish to clarify that the main contribution is not intended to propose a new FL method; rather, we propose federated contrastive learning on medical data. We are not aware of any similar studies in the literature. (1) Statistical significance of the improvements: We perform paired comparisons between the proposed method and the baseline methods initialized with the same random seed. Both the original and new results suggest that, given the same initial model, the proposed method outperforms the baseline methods consistently. We run a paired sample t-test with the upper-tailed alternative hypothesis and the p-values are less than 0.01. We will clarify these improvements in the final version. (2) Experiments with stronger initial model: We agree with R2 that a strong initial model could accelerate the convergence. However, we wish to emphasize our aim to show that the proposed method can work without any pre-trained weights, in an unsupervised fashion [3,4,5,7]. This is one of our contributions. As R2 suggests, we have re-trained the model using weights pre-trained on ImageNet (via PyTorch). There is no performance gain in LCP. We think this happens because of the domain shift between ImageNet and CXRs, and ImageNet pre-trained weights make the model converge faster at the cost of a slight drop (2-3%) in performance. Since we are working on unlabeled data, the benefit of using initial models pre-trained on irrelevant datasets (e.g. ImageNet vs medical data) for federated contrastive learning remains an open question. We will include this discussion in the final version. (3) Comparison with FL that can tackle non-iid data: We wish to clarify that the optimization goals of unsupervised contrastive learning and supervised learning are not aligned, especially under FL. The papers suggested by R3 for FL on non-iid data are mainly designed and validated for supervised methods. Yet none of these papers address contrastive learning specifically. So they are doing a similar job as FedAvg but do not directly improve the contrastive learning performance. By contrast, our method is designed to improve federated contrastive learning on medical data, which happens to be non-iid. To ease your concern, we have compared FedMoCo with FedProx (Federated optimization in heterogeneous networks) in one of our scenario (Table 3). FedProx (95.17) got similar results with FedAvg (95.25) but lower results on average than FedMoCo (96.02). Moreover, for downstream task in Table 5, we have FedProx (86.98), FedAvg (87.24), and FedMoCo (91.56). We guess the proximal term of FedProx does not help in contrastive learning. Further discussion of supervised FL can fit in the final version. Also, we wish to highlight that FedAvg does not make any assumptions in the learning paradigms, which is an ideal robust baseline. (4) Clarification of several statements and descriptions: First, for R3’s question “2) Method”, we aim to increase the learning difficulty of contrastive learning to learn better representations [4,7,15,23]. Second, we use ReLU because Box-Cox power transformation (Eq.3) requires non-negative values. Third, Oracle is MoCo trained on a single node. Such minor issues will be addressed easily in the final version. back to top","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<meta
  name="keywords"
  content="Dong, Nanqing,Voiculescu, Irina" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="MICCAI 2021 - Accepted Papers and Reviews - "
  href="kittywong/feed.xml" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/base.css" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  async>
</script>


<script src="/assets/scripts/jekyllpaper.js" async></script>
<script
  src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"
  onload="javascript:loadMermaid();"
  async>
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
    //,
    //displayAlign: "left",
    //displayIndent: "2em"
  });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  </head>
  <body>
    <div class="container-wrapper">
      <header class="container-header">
        <div class="header-info">
  <!-- Added by Elvis Chen -->
  <img src="https://kittywong.github.io/assets/images/miccai2021header.jpg" alt="MICCAI banner">
  <!-- END Added by Elvis Chen -->
  <span class="header-info-name">MICCAI 2021 - Accepted Papers and Reviews</span>
  <span class="header-info-desc"></span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
    <h2>
    
    <li class="header-main-nav-item">
      <a href="kittywong/">
        
          <b>List of Papers</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/categories">
        
          <b>By topics</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/tags">
        
          <b>Author List</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/about">
        
          <b>About</b>
        
      </a>
    </li>
      
    </h2>
  </ul>
</nav>
      </header>
      <main class="container-main">
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<article class="container-post">
  <div class="post-title">
    <h1><span style="color:#1040a7"><b>Federated Contrastive Learning for Decentralized Unlabeled Medical Images</b></span></h1>
  </div>
  
  <div class="post-author print-post-author">
    <span>Kitty K. Wong</span>
  </div>
  <hr>
    
   
  <div class="post-content">
    <!--
    <div class="post-categories">
      <h2><span style="color:#1040a7">Paper Topic(s):</span></h2> 
      
      
      <a 
        href="kittywong/categories#Computer Aided Diagnosis"
        class="post-category">
        Computer Aided Diagnosis
      </a>
      
      <a 
        href="kittywong/categories#Machine Learning - Self-supervised learning"
        class="post-category">
        Machine Learning - Self-supervised learning
      </a>
      
      <a 
        href="kittywong/categories#Outcome/disease prediction"
        class="post-category">
        Outcome/disease prediction
      </a>
      
    
    </div>
    <div class="post-tags">
      
      <h2><span style="color:#1040a7">Author(s):</span></h2> 
      
      <a href="kittywong/tags#Dong, Nanqing"
        class="post-tags">
        Dong, Nanqing
      </a> |  
      
      <a href="kittywong/tags#Voiculescu, Irina"
        class="post-tags">
        Voiculescu, Irina
      </a> |  
      
    </div>
  -->
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

    .sidenav {
      width: 200px;
      position: fixed;
      z-index: 1;
      top: 150px;
      left: 50px;
      background: #eee;
      overflow-x: hidden;
      padding: 0px 0;
    }
  
    .sidenav a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 16px;
      color: #2196F3;
      color: #FF4500;
      display: block;
    }
  
    .sidenav a:hover {
      color: #064579;
    }
    </style>
  </head>

  <div class="sidenav">
    <a href="#author-id">Paper Info</a>
    <a href="#review-id">Reviews</a>
    <a href="#metareview-id">Meta-Review(s)</a>
    <a href="#authorFeedback-id">Author Feedback</a>
    <a href="">Back to top</a>
    <a href="https://kittywong.github.io">Back to List of papers</a>
  </div>

    <table>
  <tbody>
    <tr>
      <td><a href="#author-id"><span style="color:#ff9900"><b>Paper Info</b></span></a></td>
      <td><a href="#review-id"><span style="color:#ff9900"><b>Reviews</b></span></a></td>
      <td><a href="#metareview-id"><span style="color:#ff9900"><b>Meta-review(s)</b></span></a></td>
      <td><a href="#authorFeedback-id"><span style="color:#ff9900"><b>Author Feedback</b></span></a></td>
    </tr>
  </tbody>
</table>

<h1 id="author-id">Authors</h1>
<p>Nanqing Dong, Irina Voiculescu
<br /><br /></p>

<h1 id="abstract-id">Abstract</h1>
<p>A label-efficient paradigm in computer vision is based on self-supervised contrastive pre-training on unlabeled data followed by fine-tuning with a small number of labels. Making practical use of a federated computing environment in the clinical domain and learning on medical images poses specific challenges. In this work, we propose FedMoCo, a robust federated contrastive learning (FCL) framework, which makes efficient use of decentralized unlabeled medical data. FedMoCo has two novel modules: metadata transfer, an inter-node statistical data augmentation module, and self-adaptive aggregation, an aggregation module based on representational similarity analysis. To the best of our knowledge, this is the first FCL work on medical images. Our experiments show that FedMoCo can consistently outperform FedAvg, a seminal federated learning framework, in extracting meaningful representations for downstream tasks. We further show that FedMoCo can substantially reduce the amount of labeled data required in a downstream task, such as COVID-19 detection, to achieve a reasonable performance.
<br /><br /></p>

<h1 id="link-id">Link to paper</h1>
<p><a href="https://doi.org/10.1007/978-3-030-87199-4_36">https://doi.org/10.1007/978-3-030-87199-4_36</a>
<br /><br /></p>

<h1 id="code-id">Link to the code repository</h1>
<p>N/A
<br /><br /></p>

<h1 id="dataset-id">Link to the dataset(s)</h1>
<p>N/A
<br /><br /></p>

<hr />
<h1 id="review-id">Reviews</h1>

<h3 id="review-1">Review #1</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The authors transfer the MoCo contrastive learning approach to a federated learning setting.</p>

    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>
          <p>first application of MoCo in federated setting</p>
        </li>
        <li>
          <p>novel way of aggregating models after federated training round. The key novelty is the way to calculate importance of each update. Tailored to contrastive learning.</p>
        </li>
        <li>
          <p>statistical augmentation to account for nodes with different distributions in the data</p>
        </li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <ul>
        <li>missing explanations and references (e.g. oracle)</li>
        <li>over-complication of simple aspects (e.g. fedavg)</li>
      </ul>

    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Satisfactory</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>datasets, models methods and hyperparameters are clearly stated → good reproducibility</p>

    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <ul>
        <li>
          <p>less overcomplication in the description in the paper</p>
        </li>
        <li>
          <p>back up statements (e.g. why use relu when it cuts off all negative values whereas sigmoid keeps it &gt;0)</p>
        </li>
        <li>
          <p>standard deviation of results overlap, yet authors claim that methods outperform fed avg → evaluation of statistical significance should be done?</p>
        </li>
        <li>
          <p>federated learning is not a protocol but a collection of techniques and also not sufficiently privacy preserving it only gives control about governance and ownership (see Kaissis et al. 2020)</p>
        </li>
      </ul>

    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>The overall approach is interesting for the miccai community. There is some novelty to the proposed method, but often this is marginal (statistical augmentation + aggregation). The description of methods lacks clarity and justifications.</p>

    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>5</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Confident but not absolutely certain</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-2">Review #2</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>This paper proposes a novel model aggregation technique based on contrastive learning, which the authors show perform better compared to federated averaging.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <p>The method could adequately address some of the inherent problems in the federated averaging approach, which are sensitivity to domain shift between different collaborators and the time required for model convergence.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <p>The authors describe a “warm-up” period, which in my opinion is not required if a good initial model is used. Additionally, they are proposing multiple epochs of training, which can take the trained model’s gradients at local sites farther apart and bringing them to convergence might be tougher as the dataset and the federation grows. This is a major concern in a real-world scenario and appropriate experimentation is needed to address this in this paper.</p>

      <p>The authors seem to have also missed some very related literature:</p>
      <ul>
        <li>https://doi.org/10.1038/s41598-020-69250-1</li>
        <li>https://doi.org/10.1038/s41746-021-00431-6</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>The method and datasets being used are described in detail, but without the source code reproducibility is a concern.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>Although I agree with the authors that federated averaging takes much longer for convergence, in practical terms, if appropriate data harmonization is done well across the participating nodes and a model trained on publicly available data (for the problem at hand) is used for initialization, model convergence is fairly quick.</p>

      <p>I urge the authors to perform the appropriate experiments to address the main weakness of the paper I mentioned above.</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>borderline accept (6)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>Additional experimentation is needed, especially by using a strong initial model as the common starting point for all participants.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>5</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>5</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-3">Review #3</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>This paper proposed a novel FL scheme using contrastive learning, meta-data transferring, and self-adaptive aggregation to utilize the unlabeled distributed data and address the non-iid problem.  The method is validated on CXR from different sources.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>Strengths: 
1) How to utilize unlabeled data and address the non-iid distributed data are two important problems in FL.
2) The authors added a few new elements to FL and performed ablation studies in the experiment.
3) The writing is overall clear, and the methods are easy to follow.</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <ul>
        <li>Main Weakness:
1) A few wrong statements:
1-1) “Second, FL assumes non-IID data distribution” This is not an assumption for FL by default. It can be a character or challenge in FL.
1-2) “Note, FedAvg is robust against domain shift cross data nodes.” This is incorrect. Please see [1-3].
2) Method: 
For the self-adaptive aggregation part, Eq 7 assigns larger weights to local models with a smaller r_k (representational similarity). A smaller r_k indicates a larger “difference between the ranks of i-th elements of the lower triangular of RDM for f<em>{\theta^{t-1}} and RDM for f</em>{\theta^t_k}.” Then the authors stated that “smaller rk indicates there is a bigger update in the representations, i.e., node k has extracted more meaningful representations.” I suspect the above statement that small rk means meaningful representations.  If I understand it correctly, this seems opposite to the optimization philosophy in FL for the convergence purpose, where people try to bound the client shift (differences between the local and global weights or gradients) in each local updating round [1-3]. 
3) Experiment:
3-1) The authors addressed the important non-iid problem but only compared FedMoCo with FedAvg. Comparing with the FL methods specifically for non-iid data (e.g. [1-2]) will make the comparison more powerful.
3-2) The ablation study results in Table 3-4 show the comparable performance (seems not significantly different) of the three variations of FedMoCo. I could not find the discussion about whether metadata transfer and self-adaptive aggregation are really helpful in the experiments.</li>
      </ul>

      <p>References:
[1] Li, Tian, et al. “Federated optimization in heterogeneous networks.” MLSys (2020).
[2] Karimireddy, Sai Praneeth, et al. “SCAFFOLD: Stochastic controlled averaging for federated learning.” ICML (2020).
[3] Li, Xiang, et al. “On the convergence of fedavg on non-iid data.” ICLR (2020).</p>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>Most of the implementation details, such as platform, network architectures, learning parameters are listed.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>In addition the comments in “Main Weakness”, I have the follow minor comments.</p>

      <p>1) “In contrast to previous works [26, 7, 3], we add a ReLU function between
the last fully-connected layer and a L2-normalization layer, which will project
all extracted features into a non-negative feature space.” What is the motivation of your modification?</p>

      <p>2) There are many hyperparameters (i.e, \eta) are introduced but not well-discussed. I will be helpful if the authors could provide some justifications.</p>

      <p>3) Typos: “there are a CNN encoder”;”and \theta_k^0 is nominated by \theta_k^t” –&gt; do you mean “\theta_0^t is dominated by”, otherwise I hope the authors could explain more the statement.</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>probably reject (4)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>Overall this paper provides an interesting idea and addresses the important problems in FL, which is also realistic in medical image analysis. However, I have concerns regarding the methods, experiments, and some statements in the submission. Please see the comments in “Main Weakness” and “Detailed Comments.”</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>4</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<hr />
<h1 id="metareview-id">Meta-Review(s)</h1>

<h2 id="primary-meta-review">Primary Meta-Review</h2>
<ul>
  <li><strong>Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal.</strong>
    <blockquote>
      <p>The reviewers agree that the combination of contrastive learning in a FL setting is interesting and that the suggested method may have some novelty, but there are major concerns. The key strengths of the submission are that it suggests a method for a relevant topic and proposes an aggregation method for FL based on the importance. However, there are major concerns regarding the description of the method as well as the conducted experiments. I would like to invite the authors to address in particular the issues raised related to:</p>
      <ul>
        <li>Statistical Significance of the improvements</li>
        <li>Experiments with stronger initial model and  comparison to FL that can tackle non-iid data</li>
        <li>Clarification of several statements and descriptions</li>
      </ul>

    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>7</p>
    </blockquote>
  </li>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>This paper proposes contrastive FL for the medical domain and the overall feedback is quite positive. In the rebuttal, the authors addressed the raised concerns convincingly. In particular, they performed a significance test, an additional experiment (as requested by R2) with a pretrained model and will clarify the statements.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>2</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h2 id="meta-review-2">Meta-Review #2</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>The paper proposes to apply contrastive learning with FL scheme on medical images. It effectively utilizes the unlabeled data and has achieved good performance. The idea is somewhat interesting but the implementation (data augmentation + module aggregation) seems relatively incremental. The authors have roughly addressed the comments in the rebuttal.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Reject</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>11</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>
<h2 id="meta-review-3">Meta-Review #3</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>The main criticisms of Reviewers and Meta-reviewers mainly concern the apparently marginal improvement obtained with the proposed framework, as well as the lack of a comparison with respect to FL paradigms more robust to the non-IID scenario. There is also a general lack of clarity and some wrong statements made in the manuscript.</p>

      <p>The rebuttal reports the statistical quantification of the improvements, which appears to be significant at the level p&lt;0.01 (upper-tailed alternative hypothesis, no correction for multiple comparison). No improvement has been reported when adopting pre-trained models at the client side, while FedProx was tested to include a benchmark robust to non-IID clients (Table 4 although Table 3 is mentioned in the rebuttal). Overall, results seem indicate a positive contribution of the proposed approach.</p>

      <p>Although the experimental improvements do not appear striking, the reported results seem encouraging and address a relevant problem in the application of LF to medical imaging problems. The methodological contribution was also found interesting and sufficiently motivated. The rebuttal properly addressed some of the major remarks. On a side note, the authors are encouraged to fix and clarify several of the statements made throughout the paper (e.g. privacy preserving properties of FL, FedAvg and non-IID setting).</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>9</p>
    </blockquote>
  </li>
</ul>

<h2><br /><br /></h2>
<h1 id="authorFeedback-id">Author Feedback</h1>
<blockquote>
  <p>We would like to thank the meta-reviewer for the invitation and all reviewers for the constructive comments. We wish to clarify that the main contribution is not intended to propose a new FL method; rather, we propose federated contrastive learning on medical data. We are not aware of any similar studies in the literature.</p>

  <p>(1) Statistical significance of the improvements: We perform paired comparisons between the proposed method and the baseline methods initialized with the same random seed. Both the original and new results suggest that, given the same initial model, the proposed method outperforms the baseline methods consistently. We run a paired sample t-test with the upper-tailed alternative hypothesis and the p-values are less than 0.01. We will clarify these improvements in the final version.</p>

  <p>(2) Experiments with stronger initial model: We agree with R2 that a strong initial model could accelerate the convergence. However, we wish to emphasize our aim to show that the proposed method can work without any pre-trained weights, in an unsupervised fashion [3,4,5,7]. This is one of our contributions. As R2 suggests, we have re-trained the model using weights pre-trained on ImageNet (via PyTorch). There is no performance gain in LCP. We think this happens because of the domain shift between ImageNet and CXRs, and ImageNet pre-trained weights make the model converge faster at the cost of a slight drop (2-3%) in performance. Since we are working on unlabeled data, the benefit of using initial models pre-trained on irrelevant datasets (e.g. ImageNet vs medical data) for federated contrastive learning remains an open question. We will include this discussion in the final version.</p>

  <p>(3) Comparison with FL that can tackle non-iid data: We wish to clarify that the optimization goals of unsupervised contrastive learning and supervised learning are not aligned, especially under FL. The papers suggested by R3 for FL on non-iid data are mainly designed and validated for supervised methods. Yet none of these papers address contrastive learning specifically. So they are doing a similar job as FedAvg but do not directly improve the contrastive learning performance. By contrast, our method is designed to improve federated contrastive learning on medical data, which happens to be non-iid. To ease your concern, we have compared FedMoCo with FedProx (Federated optimization in heterogeneous networks) in one of our scenario (Table 3). FedProx (95.17) got similar results with FedAvg (95.25) but lower results on average than FedMoCo (96.02). Moreover, for downstream task in Table 5, we have FedProx (86.98), FedAvg (87.24), and FedMoCo (91.56). We guess the proximal term of FedProx does not help in contrastive learning. Further discussion of supervised FL can fit in the final version. Also, we wish to highlight that FedAvg does not make any assumptions in the learning paradigms, which is an ideal robust baseline.</p>

  <p>(4) Clarification of several statements and descriptions: First, for R3’s question “2) Method”, we aim to increase the learning difficulty of contrastive learning to learn better representations [4,7,15,23]. Second, we use ReLU because Box-Cox power transformation (Eq.3) requires non-negative values. Third, Oracle is MoCo trained on a single node. Such minor issues will be addressed easily in the final version.</p>
</blockquote>

<p><br /><br />
<a href=""><span style="color:#ff9900"><b>back to top</b></span></a></p>

<hr />


  </div>

  <div class="post-info">
    <!--
    <div class="post-date">
      Poster presentation date:  
      0335-12-31
      -->
      <!--
      
        ,
        updated at 
        0336-01-01
      
      .
      
    </div>
    -->
    <!--
    
    <div class="post-author">
      Author: Kitty K. Wong
    </div>
    
    -->
    <div class="post-categories">
      <span><b>Topic(s): </b></span>
      
      <a 
        href="kittywong/categories#Computer Aided Diagnosis"
        class="post-category">
        Computer Aided Diagnosis
      </a> |
      
      <a 
        href="kittywong/categories#Machine Learning - Self-supervised learning"
        class="post-category">
        Machine Learning - Self-supervised learning
      </a> |
      
      <a 
        href="kittywong/categories#Outcome/disease prediction"
        class="post-category">
        Outcome/disease prediction
      </a> |
      
    </div>
    <div class="post-tags">
      <!--<span>Author List</span>-->
      <span><b> Author(s): </b></span>
      
      <a href="kittywong/tags#Dong, Nanqing"
        class="post-category">
        Dong, Nanqing
      </a> |  
      
      <a href="kittywong/tags#Voiculescu, Irina"
        class="post-category">
        Voiculescu, Irina
      </a> |  
      
    </div>
    <div class="post-other">
      
      <div>
        <span><b>
          Next paper: 
        </b>
        </span>
        <a href="/0336/12/31/Paper0328">
          Explaining COVID-19 and Thoracic Pathology Model Predictions by Identifying Informative Input Features
        </a>
      </div>
      
      
      <div>
        <span><b>
          Previous paper: 
        </b>
        </span>
        <a href="/0334/12/31/Paper2051">
          Federated Contrastive Learning for Volumetric Medical Image Segmentation
        </a>
      </div>
      
    </div>
    
  </div>
</article>

      </main>
      <footer class="container-footer">
        <div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. Kitty K. Wong, The MICCAI Society
  </span>
</div>
<!--
<div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. example.com.
  </span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper-Github">Jekyll-Paper-Github</a>.
  </span>
</div>
-->

      </footer>
    </div>
  </body>
</html>
