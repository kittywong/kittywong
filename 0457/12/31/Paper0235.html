<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>OperA: Attention-Regularized Transformers for Surgical Phase Recognition | MICCAI 2021 - Accepted Papers and Reviews</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="OperA: Attention-Regularized Transformers for Surgical Phase Recognition" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Tobias Czempiel, Magdalini Paschali, Daniel Ostler, Seong Tae Kim, Benjamin Busam, Nassir Navab Abstract In this paper we introduce OperA, a transformer-based model that accurately predicts surgical phases from long video sequences. A novel attention regularization loss encourages the model to focus on high-quality frames during training. Moreover, the attention weights are utilized to identify characteristic high attention frames for each surgical phase, which could further be used for surgery summarization. OperA is thoroughly evaluated on two datasets of laparoscopic cholecystectomy videos, outperforming various state-of-the-art temporal refinement approaches. Link to paper https://doi.org/10.1007/978-3-030-87202-1_58 Link to the code repository https://github.com/tobiascz/OperA Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper This paper proposes a new algorithm for surgical workflow segmentation. The main novelty lies in using the transformer network for the temporal model instead of the state-of-the-art LSTM / TCN. The key contribution in making this model to work involves an attention regularizer that weights CNN input quality during the training of the sequential model. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The visualisation of highest/lowest attention frames for each phase is interesting and expands on the algorithm contribution Well written and clearly presented Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Algorithmic novelty is relatively small Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Code not available, but method and relevant parameters are clearly presented. Results on public benchmark reproducible Results on in-house dataset may not be reproducible if this is not made available Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Cholec80 is typically split into fixed training/test data. Using a 5-fold cross validation is perfectly reasonable, but makes results in this paper slightly less comparable to the relevant literature. Also, It’s not entirely clear how the 5-fold split was done, given other statements about 20 in 80 test videos for cholec80 (4-fold?), and 20 in 85 videos for new dataset. Please state your overall opinion of the paper Probably accept (7) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Relatively incremental accuracy improvements to an established problem, but visualisation of highest/lowest attention frames adds interest to the paper and potentially promotes discussion into new ideas in surgical workflow segmentation. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 3 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper The paper presents a novel attention-based deep architecture for video-based surgical phase recognition, consisting of 11 stacked transformer encoder blocks that process frame-wise video features, which in turn are extracted with a ResNet-50 (trained on phase recognition and, if labels are available, tool presence detection as well). Moreover, the authors propose to add a regularization loss so that more attention is being paid to those frames that correspond to confident phase predictions. Evaluation is performed on the publicly available Cholec80 dataset and a comparably large in-house dataset. Moderate improvements over the typical CNN-LSTM baseline are observed. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. A temporal model based on self-attention has not been used for surgical phase recognition before and can thus be considered novel, innovative, and interesting for the community The attention regularization loss is another novelty that extends the well-known transformer encoder architecture Paper is well written and includes a concise but comprehensive overview of related work as well as appealing visuals Comprehensive evaluation including both ablation experiments and comparisons to the state of the art Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors deviate from the common 40 + 40 (or 40 + 8 + 32) data split on Cholec80 in order to use more of the available data for training. This unfortunately makes it difficult to compare the results to prior and concurrent work. Can the authors add the results on the 40 + 8 + 32 data split for backwards compatibility? A few other things regarding the evaluation seem strange and need to be clarified or fixed, see detailed comments. Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Source code will be made available Evaluation was performed on at least one publicly available dataset Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Evaluation How is it possible to perform 5-fold cross-validation on a data set with 80 samples when each fold (respective test set) consists of 20 samples? Do the folds overlap? The reported standard deviations are very small because they refer to the variation of the means calculated for every fold. However, the variation within the samples of the data set (or each data fold) is much more interesting and should be reported instead. Looking at the supplementary material, I suspect that the F1 score is calculated at the very end as the harmonic mean of average precision and average recall. Please check this, because this approach leads to overly high F1 scores – you should calculate F1 individually for every phase and every sample (= video) in the dataset and average over phases and samples afterwards. I think it would be good to clearly state that you reproduced the results of the previous methods on your dataset/ data split (this kind of benchmarking is also an important contribution) and add some more details on how you reproduced the results. The results of MTRLNet-CL are considerably worse than in the original paper – can you comment on reasons for that? Can you elaborate more on why adding the positional encoding deteriorates results? I feel that including information regarding the order of the video features should actually be important for a problem such as phase recognition. I think it would be interesting to additionally visualize the attention weights (complete matrix) in order to see which frames attend to which other frames specifically. I had to re-read section 2.2 a few times in order to understand that the “normalized” attention for frame j simply quantifies how much attention is being paid to this frame on average, by all frames i that are “allowed” to attend to this frame (i.e. M_ij = 1, which is the case if i &gt;= j). I think it would help to clearly define A_ij and M_ij so that the calculation of n_j is easier to understand – for example: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key) and M_ij = 0 if j &gt; i else 1 (because frame i can only attend to frame j if j &lt;= i) Typo: “potentially potentially” (page 6) Please state your overall opinion of the paper accept (8) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? novelty of the method and convincing evaluation results What is the ranking of this paper in your review stack? 1 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper The paper proposes to apply Transformer to tackle the surgical phase recognition task. Attention regularization is proposed to bypass relying on the low-confidence frames too much. Experiments on two datasets (one public, one in-house) are performed for validating the effectiveness of the method. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Applying the transformer to surgical phase recognition task Extensive experiments are performed and detailed ablation studies. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The performance improvement is sort of marginal. The results of two comparison methods [14] [15] are not consistent with their original paper. The fairness of such comparison needs to be verified. The method novelty is sort of weak, which mostly relied on the well-established transformer framework. Some notations are not clearly described in the Method Section, lead to the difficulty to understand the method. Please rate the clarity and organization of this paper Poor Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The reproducibility of the paper is satisfatory. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Major: The method novelty is sort of weak. The paper is mostly based on the tranformer architecture, a well-established framework that recently widely is adapted for addressing various computer vision tasks. Another main contribution pointed out by authors, i.e., attention regularization, whose novelty is sort of weak, cannot support the paper to above the standard of MICCAI acceptance. Some notations are not clearly described, lead to the difficulty to understand the method, such as the meaning of M_ij in Sec 2.2, the definition of L_c in Sec 2.3. Inconsistent results of comparison method ‘ResLSTM’, MTRCNet-CL’. The results shown in Table 2 on Cholec80 dataset are not consistent with (quite lower than) the results reported in their original paper [14] and [15]. For CSW dataset, why the results from ‘ResLSTM’ list, while ‘MTRCNet-CL’ not list? The result improvement is sort of incremental, with only 0.4%-1.2% increase in Acc and F1. How the frame-wise attention regularization (Sec2.2) affect the final performance? Cannot see the validation of this key component in the experiment part. Minor: What does the ‘causal masking’ mean? What does VRAM mean? The language expression should be improved. Please state your overall opinion of the paper probably reject (4) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Marginal improvement with poor expression. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 4 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The paper proposed to used transformer networks for the task of surgical phase recognition. The reviewers have raised several concerns related to the use of 5-fold cross validation over the standard Cholec80 split making the proposed method comparison difficult to other SOTA methods not reported. Moreover, 5-fold split detail is also missing. These needs to be clarified and justified explicitly. The reproduced 5-fold result of ResLSTM and MTRCNet-CL are considerably inconsistent with the original papers. Why is that the case? The authors should address the reviewers’ comments and should also high the key novelty of this work. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The rebuttal addressed the main concerns. The provided experimental details and justifications must be included in the camera ready. All minor comments must all be addressed in the camera ready. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. This paper studies an interesting problem of video-based surgical phase recognition, the technical novelty is relatively limited and the improvement over the existing method is not significant. In the authors’ rebuttal, the response to 5-fold cross-validation is not convincing. I believe in cross-validation, in each fold, one should use a different test set. This major concern has not been adequately addressed in the rebuttal. While I see some merits such as the visualization of the highest and lowest attention frames, I think the paper still needs to be further improved before publication. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 12 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. Agreeing with reviewer #4, the AC did not see sufficient technical novelties. The transformer architecture in Fig.1 is from an ad-hoc assemble, as described in Sec 2.1. The attention regularization in Eq.3 is not significant enough. From the experiments in Table 2, the improvement (+2.21% acc, +0.45% F1 on Cholec80; 0.68% acc, 1.26% F1 on CSW) seems quite minor. The variances of the fold-test are even higher than some of these improvement metrics. All reviewers raised the questions on the experiment comparisons. The same setup should be adopted with the original papers, for fair comparison. The inconsistent results reported in this paper and the original paper are concerns. New cross-fold comparisons with re-implemented codes can be the addition. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 12 Meta-Review #4 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. ACs had conflicting remarks for this paper. Therefore, the PCs assessed the paper reviews including meta-reviews, the rebuttal and the submission in more detail. It seems that remaining concerns on cross-validation may be based on a misunderstanding. PCs agree with the primary AC that the main concerns which were related to the cross-validation split and to the comparisons with state-of-the-art were adequately addressed in the rebuttal. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). - Author Feedback We would like to thank the reviewers for their supportive and constructive feedback. We would also like to thank them for acknowledging the attention regularization loss as a “novelty that extends the well-known transformer” architecture (R2). Further, we are pleased that our “visualization of the highest/lowest attention frames adds interest to the paper” (R1) which is solidified by a “comprehensive evaluation” (R2) through “extensive experiments” (R3). 1) MR1, R1, R2 commented that details and motivation regarding the 5-fold cross validation could be provided as it is deviating from the standard Cholec80 split. Since this dataset only has 80 videos, we believe it is important to perform cross-validation to ensure generalizability over data splits which we also think is a ‘reasonable’ (R2) decision. The paper introducing Cholec80 [12] also deployed 4-fold cross validation. In this work we increased the number of videos in the validation set from 8 to 12, as we believed that 8 videos is not a big enough sample size to find the models that generalize best to the test set. For the same reason we also increased the number of training videos from 32 to 48. Among those 48 training and 12 validation videos we performed 5-fold cross validation. Following all previous works [12,14,15,16] we kept an unseen test-set (in our case 20 videos) that was not part of the cross-validation and was used only for testing. In the test phase we used the best model of each cross-validation split and averaged the results of those 5 models on the unseen test set. All the results we report in this work, including the baselines, were created using the same split and cross-validation approach. We will make sure to discuss this data split and motivation in the final version. Our code will also be made publicly available to allow easy reproducibility. For backward compatibility (R2), we ran the the original (32-8-40) data split of Cholec80 and the results are consistent, MTRCNet-CL: Accuracy (ACC): 84.53, Precision: 77.28, Recall: 78.10 and OperA: ACC: 89.96, Precision: 82.75, Recall: 84.45. 2) In line with previous work published at MICCAI 2020 [16] which report 4% worse ACC for MTRCNet [15] in their evaluation, we also find MTRCNet-CL to be 4% inferior than reported in [15] as correctly indicated by MR1, R2, R4. For the reproduction of MTRCNet-CL, we used the authors’ code available on [G1] to train a model with our data split along with all hyperparameters in [15]. For the calculation of the metrics we followed the standard paradigm in [12]. Note that the results reported for ResLSTM are consistent and even higher than the original paper [14] (original ACC in [14]: 86.4, reproduced ACC: 87.94). Hence, we believe that our reproduction is fair. [G1] https://github.com/YuemingJin/MTRCNet-CL 3) As R2 mentioned, the F1 we reported is the harmonic mean of the Precision and Recall calculated following [11,12]. This will be clarified in the final version. 4) We thank for the valuable suggestion of R2 to optimize the understanding of the Normalized framewise attention section 2.2. R3 also commented on the clarity of this section. Hence, we will add the following addition to the paper: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key). M_ij will be zero if the key index j is larger than the query index i as we want to restrict our model to only respect previous events in the video. M_ij = 0 if j &gt; i else 1 We believe that our work is a valuable contribution to the MICCAI Community as the visualisation of the highest and lowest attention frames enhanced by the proposed attention regularization extending the transformer architecture, opens a novel direction for surgical phase recognition. back to top" />
<meta property="og:description" content="Paper Info Reviews Meta-review(s) Author Feedback Authors Tobias Czempiel, Magdalini Paschali, Daniel Ostler, Seong Tae Kim, Benjamin Busam, Nassir Navab Abstract In this paper we introduce OperA, a transformer-based model that accurately predicts surgical phases from long video sequences. A novel attention regularization loss encourages the model to focus on high-quality frames during training. Moreover, the attention weights are utilized to identify characteristic high attention frames for each surgical phase, which could further be used for surgery summarization. OperA is thoroughly evaluated on two datasets of laparoscopic cholecystectomy videos, outperforming various state-of-the-art temporal refinement approaches. Link to paper https://doi.org/10.1007/978-3-030-87202-1_58 Link to the code repository https://github.com/tobiascz/OperA Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper This paper proposes a new algorithm for surgical workflow segmentation. The main novelty lies in using the transformer network for the temporal model instead of the state-of-the-art LSTM / TCN. The key contribution in making this model to work involves an attention regularizer that weights CNN input quality during the training of the sequential model. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The visualisation of highest/lowest attention frames for each phase is interesting and expands on the algorithm contribution Well written and clearly presented Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Algorithmic novelty is relatively small Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Code not available, but method and relevant parameters are clearly presented. Results on public benchmark reproducible Results on in-house dataset may not be reproducible if this is not made available Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Cholec80 is typically split into fixed training/test data. Using a 5-fold cross validation is perfectly reasonable, but makes results in this paper slightly less comparable to the relevant literature. Also, It’s not entirely clear how the 5-fold split was done, given other statements about 20 in 80 test videos for cholec80 (4-fold?), and 20 in 85 videos for new dataset. Please state your overall opinion of the paper Probably accept (7) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Relatively incremental accuracy improvements to an established problem, but visualisation of highest/lowest attention frames adds interest to the paper and potentially promotes discussion into new ideas in surgical workflow segmentation. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 3 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper The paper presents a novel attention-based deep architecture for video-based surgical phase recognition, consisting of 11 stacked transformer encoder blocks that process frame-wise video features, which in turn are extracted with a ResNet-50 (trained on phase recognition and, if labels are available, tool presence detection as well). Moreover, the authors propose to add a regularization loss so that more attention is being paid to those frames that correspond to confident phase predictions. Evaluation is performed on the publicly available Cholec80 dataset and a comparably large in-house dataset. Moderate improvements over the typical CNN-LSTM baseline are observed. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. A temporal model based on self-attention has not been used for surgical phase recognition before and can thus be considered novel, innovative, and interesting for the community The attention regularization loss is another novelty that extends the well-known transformer encoder architecture Paper is well written and includes a concise but comprehensive overview of related work as well as appealing visuals Comprehensive evaluation including both ablation experiments and comparisons to the state of the art Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors deviate from the common 40 + 40 (or 40 + 8 + 32) data split on Cholec80 in order to use more of the available data for training. This unfortunately makes it difficult to compare the results to prior and concurrent work. Can the authors add the results on the 40 + 8 + 32 data split for backwards compatibility? A few other things regarding the evaluation seem strange and need to be clarified or fixed, see detailed comments. Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Source code will be made available Evaluation was performed on at least one publicly available dataset Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Evaluation How is it possible to perform 5-fold cross-validation on a data set with 80 samples when each fold (respective test set) consists of 20 samples? Do the folds overlap? The reported standard deviations are very small because they refer to the variation of the means calculated for every fold. However, the variation within the samples of the data set (or each data fold) is much more interesting and should be reported instead. Looking at the supplementary material, I suspect that the F1 score is calculated at the very end as the harmonic mean of average precision and average recall. Please check this, because this approach leads to overly high F1 scores – you should calculate F1 individually for every phase and every sample (= video) in the dataset and average over phases and samples afterwards. I think it would be good to clearly state that you reproduced the results of the previous methods on your dataset/ data split (this kind of benchmarking is also an important contribution) and add some more details on how you reproduced the results. The results of MTRLNet-CL are considerably worse than in the original paper – can you comment on reasons for that? Can you elaborate more on why adding the positional encoding deteriorates results? I feel that including information regarding the order of the video features should actually be important for a problem such as phase recognition. I think it would be interesting to additionally visualize the attention weights (complete matrix) in order to see which frames attend to which other frames specifically. I had to re-read section 2.2 a few times in order to understand that the “normalized” attention for frame j simply quantifies how much attention is being paid to this frame on average, by all frames i that are “allowed” to attend to this frame (i.e. M_ij = 1, which is the case if i &gt;= j). I think it would help to clearly define A_ij and M_ij so that the calculation of n_j is easier to understand – for example: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key) and M_ij = 0 if j &gt; i else 1 (because frame i can only attend to frame j if j &lt;= i) Typo: “potentially potentially” (page 6) Please state your overall opinion of the paper accept (8) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? novelty of the method and convincing evaluation results What is the ranking of this paper in your review stack? 1 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper The paper proposes to apply Transformer to tackle the surgical phase recognition task. Attention regularization is proposed to bypass relying on the low-confidence frames too much. Experiments on two datasets (one public, one in-house) are performed for validating the effectiveness of the method. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Applying the transformer to surgical phase recognition task Extensive experiments are performed and detailed ablation studies. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The performance improvement is sort of marginal. The results of two comparison methods [14] [15] are not consistent with their original paper. The fairness of such comparison needs to be verified. The method novelty is sort of weak, which mostly relied on the well-established transformer framework. Some notations are not clearly described in the Method Section, lead to the difficulty to understand the method. Please rate the clarity and organization of this paper Poor Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The reproducibility of the paper is satisfatory. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Major: The method novelty is sort of weak. The paper is mostly based on the tranformer architecture, a well-established framework that recently widely is adapted for addressing various computer vision tasks. Another main contribution pointed out by authors, i.e., attention regularization, whose novelty is sort of weak, cannot support the paper to above the standard of MICCAI acceptance. Some notations are not clearly described, lead to the difficulty to understand the method, such as the meaning of M_ij in Sec 2.2, the definition of L_c in Sec 2.3. Inconsistent results of comparison method ‘ResLSTM’, MTRCNet-CL’. The results shown in Table 2 on Cholec80 dataset are not consistent with (quite lower than) the results reported in their original paper [14] and [15]. For CSW dataset, why the results from ‘ResLSTM’ list, while ‘MTRCNet-CL’ not list? The result improvement is sort of incremental, with only 0.4%-1.2% increase in Acc and F1. How the frame-wise attention regularization (Sec2.2) affect the final performance? Cannot see the validation of this key component in the experiment part. Minor: What does the ‘causal masking’ mean? What does VRAM mean? The language expression should be improved. Please state your overall opinion of the paper probably reject (4) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Marginal improvement with poor expression. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 4 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The paper proposed to used transformer networks for the task of surgical phase recognition. The reviewers have raised several concerns related to the use of 5-fold cross validation over the standard Cholec80 split making the proposed method comparison difficult to other SOTA methods not reported. Moreover, 5-fold split detail is also missing. These needs to be clarified and justified explicitly. The reproduced 5-fold result of ResLSTM and MTRCNet-CL are considerably inconsistent with the original papers. Why is that the case? The authors should address the reviewers’ comments and should also high the key novelty of this work. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The rebuttal addressed the main concerns. The provided experimental details and justifications must be included in the camera ready. All minor comments must all be addressed in the camera ready. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. This paper studies an interesting problem of video-based surgical phase recognition, the technical novelty is relatively limited and the improvement over the existing method is not significant. In the authors’ rebuttal, the response to 5-fold cross-validation is not convincing. I believe in cross-validation, in each fold, one should use a different test set. This major concern has not been adequately addressed in the rebuttal. While I see some merits such as the visualization of the highest and lowest attention frames, I think the paper still needs to be further improved before publication. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 12 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. Agreeing with reviewer #4, the AC did not see sufficient technical novelties. The transformer architecture in Fig.1 is from an ad-hoc assemble, as described in Sec 2.1. The attention regularization in Eq.3 is not significant enough. From the experiments in Table 2, the improvement (+2.21% acc, +0.45% F1 on Cholec80; 0.68% acc, 1.26% F1 on CSW) seems quite minor. The variances of the fold-test are even higher than some of these improvement metrics. All reviewers raised the questions on the experiment comparisons. The same setup should be adopted with the original papers, for fair comparison. The inconsistent results reported in this paper and the original paper are concerns. New cross-fold comparisons with re-implemented codes can be the addition. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 12 Meta-Review #4 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. ACs had conflicting remarks for this paper. Therefore, the PCs assessed the paper reviews including meta-reviews, the rebuttal and the submission in more detail. It seems that remaining concerns on cross-validation may be based on a misunderstanding. PCs agree with the primary AC that the main concerns which were related to the cross-validation split and to the comparisons with state-of-the-art were adequately addressed in the rebuttal. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). - Author Feedback We would like to thank the reviewers for their supportive and constructive feedback. We would also like to thank them for acknowledging the attention regularization loss as a “novelty that extends the well-known transformer” architecture (R2). Further, we are pleased that our “visualization of the highest/lowest attention frames adds interest to the paper” (R1) which is solidified by a “comprehensive evaluation” (R2) through “extensive experiments” (R3). 1) MR1, R1, R2 commented that details and motivation regarding the 5-fold cross validation could be provided as it is deviating from the standard Cholec80 split. Since this dataset only has 80 videos, we believe it is important to perform cross-validation to ensure generalizability over data splits which we also think is a ‘reasonable’ (R2) decision. The paper introducing Cholec80 [12] also deployed 4-fold cross validation. In this work we increased the number of videos in the validation set from 8 to 12, as we believed that 8 videos is not a big enough sample size to find the models that generalize best to the test set. For the same reason we also increased the number of training videos from 32 to 48. Among those 48 training and 12 validation videos we performed 5-fold cross validation. Following all previous works [12,14,15,16] we kept an unseen test-set (in our case 20 videos) that was not part of the cross-validation and was used only for testing. In the test phase we used the best model of each cross-validation split and averaged the results of those 5 models on the unseen test set. All the results we report in this work, including the baselines, were created using the same split and cross-validation approach. We will make sure to discuss this data split and motivation in the final version. Our code will also be made publicly available to allow easy reproducibility. For backward compatibility (R2), we ran the the original (32-8-40) data split of Cholec80 and the results are consistent, MTRCNet-CL: Accuracy (ACC): 84.53, Precision: 77.28, Recall: 78.10 and OperA: ACC: 89.96, Precision: 82.75, Recall: 84.45. 2) In line with previous work published at MICCAI 2020 [16] which report 4% worse ACC for MTRCNet [15] in their evaluation, we also find MTRCNet-CL to be 4% inferior than reported in [15] as correctly indicated by MR1, R2, R4. For the reproduction of MTRCNet-CL, we used the authors’ code available on [G1] to train a model with our data split along with all hyperparameters in [15]. For the calculation of the metrics we followed the standard paradigm in [12]. Note that the results reported for ResLSTM are consistent and even higher than the original paper [14] (original ACC in [14]: 86.4, reproduced ACC: 87.94). Hence, we believe that our reproduction is fair. [G1] https://github.com/YuemingJin/MTRCNet-CL 3) As R2 mentioned, the F1 we reported is the harmonic mean of the Precision and Recall calculated following [11,12]. This will be clarified in the final version. 4) We thank for the valuable suggestion of R2 to optimize the understanding of the Normalized framewise attention section 2.2. R3 also commented on the clarity of this section. Hence, we will add the following addition to the paper: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key). M_ij will be zero if the key index j is larger than the query index i as we want to restrict our model to only respect previous events in the video. M_ij = 0 if j &gt; i else 1 We believe that our work is a valuable contribution to the MICCAI Community as the visualisation of the highest and lowest attention frames enhanced by the proposed attention regularization extending the transformer architecture, opens a novel direction for surgical phase recognition. back to top" />
<link rel="canonical" href="https://kittywong.github.io/kittywong/0457/12/31/Paper0235" />
<meta property="og:url" content="https://kittywong.github.io/kittywong/0457/12/31/Paper0235" />
<meta property="og:site_name" content="MICCAI 2021 - Accepted Papers and Reviews" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="0457-12-31T23:58:56-05:17" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="OperA: Attention-Regularized Transformers for Surgical Phase Recognition" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://kittywong.github.io/kittywong/0457/12/31/Paper0235"},"@type":"BlogPosting","url":"https://kittywong.github.io/kittywong/0457/12/31/Paper0235","headline":"OperA: Attention-Regularized Transformers for Surgical Phase Recognition","dateModified":"0458-01-02T00:00:00-05:17","datePublished":"0457-12-31T23:58:56-05:17","description":"Paper Info Reviews Meta-review(s) Author Feedback Authors Tobias Czempiel, Magdalini Paschali, Daniel Ostler, Seong Tae Kim, Benjamin Busam, Nassir Navab Abstract In this paper we introduce OperA, a transformer-based model that accurately predicts surgical phases from long video sequences. A novel attention regularization loss encourages the model to focus on high-quality frames during training. Moreover, the attention weights are utilized to identify characteristic high attention frames for each surgical phase, which could further be used for surgery summarization. OperA is thoroughly evaluated on two datasets of laparoscopic cholecystectomy videos, outperforming various state-of-the-art temporal refinement approaches. Link to paper https://doi.org/10.1007/978-3-030-87202-1_58 Link to the code repository https://github.com/tobiascz/OperA Link to the dataset(s) N/A Reviews Review #1 Please describe the contribution of the paper This paper proposes a new algorithm for surgical workflow segmentation. The main novelty lies in using the transformer network for the temporal model instead of the state-of-the-art LSTM / TCN. The key contribution in making this model to work involves an attention regularizer that weights CNN input quality during the training of the sequential model. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. The visualisation of highest/lowest attention frames for each phase is interesting and expands on the algorithm contribution Well written and clearly presented Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. Algorithmic novelty is relatively small Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Code not available, but method and relevant parameters are clearly presented. Results on public benchmark reproducible Results on in-house dataset may not be reproducible if this is not made available Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Cholec80 is typically split into fixed training/test data. Using a 5-fold cross validation is perfectly reasonable, but makes results in this paper slightly less comparable to the relevant literature. Also, It’s not entirely clear how the 5-fold split was done, given other statements about 20 in 80 test videos for cholec80 (4-fold?), and 20 in 85 videos for new dataset. Please state your overall opinion of the paper Probably accept (7) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Relatively incremental accuracy improvements to an established problem, but visualisation of highest/lowest attention frames adds interest to the paper and potentially promotes discussion into new ideas in surgical workflow segmentation. What is the ranking of this paper in your review stack? 1 Number of papers in your stack 3 Reviewer confidence Confident but not absolutely certain Review #2 Please describe the contribution of the paper The paper presents a novel attention-based deep architecture for video-based surgical phase recognition, consisting of 11 stacked transformer encoder blocks that process frame-wise video features, which in turn are extracted with a ResNet-50 (trained on phase recognition and, if labels are available, tool presence detection as well). Moreover, the authors propose to add a regularization loss so that more attention is being paid to those frames that correspond to confident phase predictions. Evaluation is performed on the publicly available Cholec80 dataset and a comparably large in-house dataset. Moderate improvements over the typical CNN-LSTM baseline are observed. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. A temporal model based on self-attention has not been used for surgical phase recognition before and can thus be considered novel, innovative, and interesting for the community The attention regularization loss is another novelty that extends the well-known transformer encoder architecture Paper is well written and includes a concise but comprehensive overview of related work as well as appealing visuals Comprehensive evaluation including both ablation experiments and comparisons to the state of the art Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The authors deviate from the common 40 + 40 (or 40 + 8 + 32) data split on Cholec80 in order to use more of the available data for training. This unfortunately makes it difficult to compare the results to prior and concurrent work. Can the authors add the results on the 40 + 8 + 32 data split for backwards compatibility? A few other things regarding the evaluation seem strange and need to be clarified or fixed, see detailed comments. Please rate the clarity and organization of this paper Very Good Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance Source code will be made available Evaluation was performed on at least one publicly available dataset Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Evaluation How is it possible to perform 5-fold cross-validation on a data set with 80 samples when each fold (respective test set) consists of 20 samples? Do the folds overlap? The reported standard deviations are very small because they refer to the variation of the means calculated for every fold. However, the variation within the samples of the data set (or each data fold) is much more interesting and should be reported instead. Looking at the supplementary material, I suspect that the F1 score is calculated at the very end as the harmonic mean of average precision and average recall. Please check this, because this approach leads to overly high F1 scores – you should calculate F1 individually for every phase and every sample (= video) in the dataset and average over phases and samples afterwards. I think it would be good to clearly state that you reproduced the results of the previous methods on your dataset/ data split (this kind of benchmarking is also an important contribution) and add some more details on how you reproduced the results. The results of MTRLNet-CL are considerably worse than in the original paper – can you comment on reasons for that? Can you elaborate more on why adding the positional encoding deteriorates results? I feel that including information regarding the order of the video features should actually be important for a problem such as phase recognition. I think it would be interesting to additionally visualize the attention weights (complete matrix) in order to see which frames attend to which other frames specifically. I had to re-read section 2.2 a few times in order to understand that the “normalized” attention for frame j simply quantifies how much attention is being paid to this frame on average, by all frames i that are “allowed” to attend to this frame (i.e. M_ij = 1, which is the case if i &gt;= j). I think it would help to clearly define A_ij and M_ij so that the calculation of n_j is easier to understand – for example: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key) and M_ij = 0 if j &gt; i else 1 (because frame i can only attend to frame j if j &lt;= i) Typo: “potentially potentially” (page 6) Please state your overall opinion of the paper accept (8) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? novelty of the method and convincing evaluation results What is the ranking of this paper in your review stack? 1 Number of papers in your stack 5 Reviewer confidence Very confident Review #3 Please describe the contribution of the paper The paper proposes to apply Transformer to tackle the surgical phase recognition task. Attention regularization is proposed to bypass relying on the low-confidence frames too much. Experiments on two datasets (one public, one in-house) are performed for validating the effectiveness of the method. Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting. Applying the transformer to surgical phase recognition task Extensive experiments are performed and detailed ablation studies. Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work. The performance improvement is sort of marginal. The results of two comparison methods [14] [15] are not consistent with their original paper. The fairness of such comparison needs to be verified. The method novelty is sort of weak, which mostly relied on the well-established transformer framework. Some notations are not clearly described in the Method Section, lead to the difficulty to understand the method. Please rate the clarity and organization of this paper Poor Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance The reproducibility of the paper is satisfatory. Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: https://miccai2021.org/en/REVIEWER-GUIDELINES.html Major: The method novelty is sort of weak. The paper is mostly based on the tranformer architecture, a well-established framework that recently widely is adapted for addressing various computer vision tasks. Another main contribution pointed out by authors, i.e., attention regularization, whose novelty is sort of weak, cannot support the paper to above the standard of MICCAI acceptance. Some notations are not clearly described, lead to the difficulty to understand the method, such as the meaning of M_ij in Sec 2.2, the definition of L_c in Sec 2.3. Inconsistent results of comparison method ‘ResLSTM’, MTRCNet-CL’. The results shown in Table 2 on Cholec80 dataset are not consistent with (quite lower than) the results reported in their original paper [14] and [15]. For CSW dataset, why the results from ‘ResLSTM’ list, while ‘MTRCNet-CL’ not list? The result improvement is sort of incremental, with only 0.4%-1.2% increase in Acc and F1. How the frame-wise attention regularization (Sec2.2) affect the final performance? Cannot see the validation of this key component in the experiment part. Minor: What does the ‘causal masking’ mean? What does VRAM mean? The language expression should be improved. Please state your overall opinion of the paper probably reject (4) Please justify your recommendation. What were the major factors that led you to your overall score for this paper? Marginal improvement with poor expression. What is the ranking of this paper in your review stack? 3 Number of papers in your stack 4 Reviewer confidence Very confident Meta-Review(s) Primary Meta-Review Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal. The paper proposed to used transformer networks for the task of surgical phase recognition. The reviewers have raised several concerns related to the use of 5-fold cross validation over the standard Cholec80 split making the proposed method comparison difficult to other SOTA methods not reported. Moreover, 5-fold split detail is also missing. These needs to be clarified and justified explicitly. The reproduced 5-fold result of ResLSTM and MTRCNet-CL are considerably inconsistent with the original papers. Why is that the case? The authors should address the reviewers’ comments and should also high the key novelty of this work. What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. The rebuttal addressed the main concerns. The provided experimental details and justifications must be included in the camera ready. All minor comments must all be addressed in the camera ready. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 8 Meta-Review #2 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. This paper studies an interesting problem of video-based surgical phase recognition, the technical novelty is relatively limited and the improvement over the existing method is not significant. In the authors’ rebuttal, the response to 5-fold cross-validation is not convincing. I believe in cross-validation, in each fold, one should use a different test set. This major concern has not been adequately addressed in the rebuttal. While I see some merits such as the visualization of the highest and lowest attention frames, I think the paper still needs to be further improved before publication. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 12 Meta-Review #3 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. Agreeing with reviewer #4, the AC did not see sufficient technical novelties. The transformer architecture in Fig.1 is from an ad-hoc assemble, as described in Sec 2.1. The attention regularization in Eq.3 is not significant enough. From the experiments in Table 2, the improvement (+2.21% acc, +0.45% F1 on Cholec80; 0.68% acc, 1.26% F1 on CSW) seems quite minor. The variances of the fold-test are even higher than some of these improvement metrics. All reviewers raised the questions on the experiment comparisons. The same setup should be adopted with the original papers, for fair comparison. The inconsistent results reported in this paper and the original paper are concerns. New cross-fold comparisons with re-implemented codes can be the addition. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Reject What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). 12 Meta-Review #4 Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores, indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision. ACs had conflicting remarks for this paper. Therefore, the PCs assessed the paper reviews including meta-reviews, the rebuttal and the submission in more detail. It seems that remaining concerns on cross-validation may be based on a misunderstanding. PCs agree with the primary AC that the main concerns which were related to the cross-validation split and to the comparisons with state-of-the-art were adequately addressed in the rebuttal. After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal. Accept What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers). - Author Feedback We would like to thank the reviewers for their supportive and constructive feedback. We would also like to thank them for acknowledging the attention regularization loss as a “novelty that extends the well-known transformer” architecture (R2). Further, we are pleased that our “visualization of the highest/lowest attention frames adds interest to the paper” (R1) which is solidified by a “comprehensive evaluation” (R2) through “extensive experiments” (R3). 1) MR1, R1, R2 commented that details and motivation regarding the 5-fold cross validation could be provided as it is deviating from the standard Cholec80 split. Since this dataset only has 80 videos, we believe it is important to perform cross-validation to ensure generalizability over data splits which we also think is a ‘reasonable’ (R2) decision. The paper introducing Cholec80 [12] also deployed 4-fold cross validation. In this work we increased the number of videos in the validation set from 8 to 12, as we believed that 8 videos is not a big enough sample size to find the models that generalize best to the test set. For the same reason we also increased the number of training videos from 32 to 48. Among those 48 training and 12 validation videos we performed 5-fold cross validation. Following all previous works [12,14,15,16] we kept an unseen test-set (in our case 20 videos) that was not part of the cross-validation and was used only for testing. In the test phase we used the best model of each cross-validation split and averaged the results of those 5 models on the unseen test set. All the results we report in this work, including the baselines, were created using the same split and cross-validation approach. We will make sure to discuss this data split and motivation in the final version. Our code will also be made publicly available to allow easy reproducibility. For backward compatibility (R2), we ran the the original (32-8-40) data split of Cholec80 and the results are consistent, MTRCNet-CL: Accuracy (ACC): 84.53, Precision: 77.28, Recall: 78.10 and OperA: ACC: 89.96, Precision: 82.75, Recall: 84.45. 2) In line with previous work published at MICCAI 2020 [16] which report 4% worse ACC for MTRCNet [15] in their evaluation, we also find MTRCNet-CL to be 4% inferior than reported in [15] as correctly indicated by MR1, R2, R4. For the reproduction of MTRCNet-CL, we used the authors’ code available on [G1] to train a model with our data split along with all hyperparameters in [15]. For the calculation of the metrics we followed the standard paradigm in [12]. Note that the results reported for ResLSTM are consistent and even higher than the original paper [14] (original ACC in [14]: 86.4, reproduced ACC: 87.94). Hence, we believe that our reproduction is fair. [G1] https://github.com/YuemingJin/MTRCNet-CL 3) As R2 mentioned, the F1 we reported is the harmonic mean of the Precision and Recall calculated following [11,12]. This will be clarified in the final version. 4) We thank for the valuable suggestion of R2 to optimize the understanding of the Normalized framewise attention section 2.2. R3 also commented on the clarity of this section. Hence, we will add the following addition to the paper: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key). M_ij will be zero if the key index j is larger than the query index i as we want to restrict our model to only respect previous events in the video. M_ij = 0 if j &gt; i else 1 We believe that our work is a valuable contribution to the MICCAI Community as the visualisation of the highest and lowest attention frames enhanced by the proposed attention regularization extending the transformer architecture, opens a novel direction for surgical phase recognition. back to top","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<meta
  name="keywords"
  content="Czempiel, Tobias,Paschali, Magdalini,Ostler, Daniel,Kim, Seong Tae,Busam, Benjamin,Navab, Nassir" />

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" href="/favicon.ico" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="MICCAI 2021 - Accepted Papers and Reviews - "
  href="kittywong/feed.xml" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/base.css" />
<link
  rel="stylesheet"
  type="text/css"
  href="kittywong/assets/css/highlight.css" />

<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->


<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  async>
</script>


<script src="/assets/scripts/jekyllpaper.js" async></script>
<script
  src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"
  onload="javascript:loadMermaid();"
  async>
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$', '$'], ["\\(", "\\)"] ],
      displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
    //,
    //displayAlign: "left",
    //displayIndent: "2em"
  });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  </head>
  <body>
    <div class="container-wrapper">
      <header class="container-header">
        <div class="header-info">
  <!-- Added by Elvis Chen -->
  <img src="https://kittywong.github.io/assets/images/miccai2021header.jpg" alt="MICCAI banner">
  <!-- END Added by Elvis Chen -->
  <span class="header-info-name">MICCAI 2021 - Accepted Papers and Reviews</span>
  <span class="header-info-desc"></span>
</div>
<nav class="header-nav">
  <ul class="header-main-nav">
    <h2>
    
    <li class="header-main-nav-item">
      <a href="kittywong/">
        
          <b>List of Papers</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/categories">
        
          <b>By topics</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/tags">
        
          <b>Author List</b>
        
      </a>
    </li>
      
    <li class="header-main-nav-item">
      <a href="kittywong/about">
        
          <b>About</b>
        
      </a>
    </li>
      
    </h2>
  </ul>
</nav>
      </header>
      <main class="container-main">
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<article class="container-post">
  <div class="post-title">
    <h1><span style="color:#1040a7"><b>OperA: Attention-Regularized Transformers for Surgical Phase Recognition</b></span></h1>
  </div>
  
  <div class="post-author print-post-author">
    <span>Kitty K. Wong</span>
  </div>
  <hr>
    
   
  <div class="post-content">
    <!--
    <div class="post-categories">
      <h2><span style="color:#1040a7">Paper Topic(s):</span></h2> 
      
      
      <a 
        href="kittywong/categories#Surgical Skill and Work Flow Analysis"
        class="post-category">
        Surgical Skill and Work Flow Analysis
      </a>
      
      <a 
        href="kittywong/categories#Machine Learning - Attention models"
        class="post-category">
        Machine Learning - Attention models
      </a>
      
      <a 
        href="kittywong/categories#Modalities - Video"
        class="post-category">
        Modalities - Video
      </a>
      
    
    </div>
    <div class="post-tags">
      
      <h2><span style="color:#1040a7">Author(s):</span></h2> 
      
      <a href="kittywong/tags#Czempiel, Tobias"
        class="post-tags">
        Czempiel, Tobias
      </a> |  
      
      <a href="kittywong/tags#Paschali, Magdalini"
        class="post-tags">
        Paschali, Magdalini
      </a> |  
      
      <a href="kittywong/tags#Ostler, Daniel"
        class="post-tags">
        Ostler, Daniel
      </a> |  
      
      <a href="kittywong/tags#Kim, Seong Tae"
        class="post-tags">
        Kim, Seong Tae
      </a> |  
      
      <a href="kittywong/tags#Busam, Benjamin"
        class="post-tags">
        Busam, Benjamin
      </a> |  
      
      <a href="kittywong/tags#Navab, Nassir"
        class="post-tags">
        Navab, Nassir
      </a> |  
      
    </div>
  -->
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

    .sidenav {
      width: 200px;
      position: fixed;
      z-index: 1;
      top: 150px;
      left: 50px;
      background: #eee;
      overflow-x: hidden;
      padding: 0px 0;
    }
  
    .sidenav a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 16px;
      color: #2196F3;
      color: #FF4500;
      display: block;
    }
  
    .sidenav a:hover {
      color: #064579;
    }
    </style>
  </head>

  <div class="sidenav">
    <a href="#author-id">Paper Info</a>
    <a href="#review-id">Reviews</a>
    <a href="#metareview-id">Meta-Review(s)</a>
    <a href="#authorFeedback-id">Author Feedback</a>
    <a href="">Back to top</a>
    <a href="https://kittywong.github.io">Back to List of papers</a>
  </div>

    <table>
  <tbody>
    <tr>
      <td><a href="#author-id"><span style="color:#ff9900"><b>Paper Info</b></span></a></td>
      <td><a href="#review-id"><span style="color:#ff9900"><b>Reviews</b></span></a></td>
      <td><a href="#metareview-id"><span style="color:#ff9900"><b>Meta-review(s)</b></span></a></td>
      <td><a href="#authorFeedback-id"><span style="color:#ff9900"><b>Author Feedback</b></span></a></td>
    </tr>
  </tbody>
</table>

<h1 id="author-id">Authors</h1>
<p>Tobias Czempiel, Magdalini Paschali, Daniel Ostler, Seong Tae Kim, Benjamin Busam, Nassir Navab
<br /><br /></p>

<h1 id="abstract-id">Abstract</h1>
<p>In this paper we introduce OperA, a transformer-based model that accurately predicts surgical phases from long video sequences. A novel attention regularization loss encourages the model to focus on high-quality frames during training. Moreover, the attention weights are utilized to identify characteristic high attention frames for each surgical phase, which could further be used for surgery summarization. OperA is thoroughly evaluated on two datasets of laparoscopic cholecystectomy videos, outperforming various state-of-the-art temporal refinement approaches.
<br /><br /></p>

<h1 id="link-id">Link to paper</h1>
<p><a href="https://doi.org/10.1007/978-3-030-87202-1_58">https://doi.org/10.1007/978-3-030-87202-1_58</a>
<br /><br /></p>

<h1 id="code-id">Link to the code repository</h1>
<p>https://github.com/tobiascz/OperA
<br /><br /></p>

<h1 id="dataset-id">Link to the dataset(s)</h1>
<p>N/A
<br /><br /></p>

<hr />
<h1 id="review-id">Reviews</h1>

<h3 id="review-1">Review #1</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>This paper proposes a new algorithm for surgical workflow segmentation. The main novelty lies in using the transformer network for the temporal model instead of the state-of-the-art LSTM / TCN. The key contribution in making this model to work involves an attention regularizer that weights CNN input quality during the training of the sequential model.</p>

    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>The visualisation of highest/lowest attention frames for each phase is interesting and expands on the algorithm contribution</li>
        <li>Well written and clearly presented</li>
      </ul>

    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <p>Algorithmic novelty is relatively small</p>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Very Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>Code not available, but method and relevant parameters are clearly presented.
Results on public benchmark reproducible
Results on in-house dataset may not be reproducible if this is not made available</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>Cholec80 is typically split into fixed training/test data. Using a 5-fold cross validation is perfectly reasonable, but makes results in this paper slightly less comparable to the relevant literature.</p>

      <p>Also, It’s not entirely clear how the 5-fold split was done, given other statements about 20 in 80 test videos for cholec80 (4-fold?), and 20 in 85 videos for new dataset.</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>Probably accept (7)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>Relatively incremental accuracy improvements to an established problem, but visualisation of highest/lowest attention frames adds interest to the paper and potentially promotes discussion into new ideas in surgical workflow segmentation.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>1</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Confident but not absolutely certain</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-2">Review #2</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The paper presents a novel attention-based deep architecture for video-based surgical phase recognition, consisting of 11 stacked transformer encoder blocks that process frame-wise video features, which in turn are extracted with a ResNet-50 (trained on phase recognition and, if labels are available, tool presence detection as well). Moreover, the authors propose to add a regularization loss so that more attention is being paid to those frames that correspond to confident phase predictions. 
Evaluation is performed on the publicly available Cholec80 dataset and a comparably large in-house dataset. Moderate improvements over the typical CNN-LSTM baseline are observed.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>A temporal model based on self-attention has not been used for surgical phase recognition before and can thus be considered novel, innovative, and interesting for the community</li>
        <li>The attention regularization loss is another novelty that extends the well-known transformer encoder architecture</li>
        <li>Paper is well written and includes a concise but comprehensive overview of related work as well as appealing visuals</li>
        <li>Comprehensive evaluation including both ablation experiments and comparisons to the state of the art</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <ul>
        <li>The authors deviate from the common 40 + 40 (or 40 + 8 + 32) data split on Cholec80 in order to use more of the available data for training. This unfortunately makes it difficult to compare the results to prior and concurrent work. Can the authors add the results on the 40 + 8 + 32 data split for backwards compatibility?</li>
        <li>A few other things regarding the evaluation seem strange and need to be clarified or fixed, see detailed comments.</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Very Good</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <ul>
        <li>Source code will be made available</li>
        <li>Evaluation was performed on at least one publicly available dataset</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>Evaluation</p>
      <ul>
        <li>How is it possible to perform 5-fold cross-validation on a data set with 80 samples when each fold (respective test set) consists of 20 samples? Do the folds overlap?</li>
        <li>The reported standard deviations are very small because they refer to the variation of the means calculated for every fold. However, the variation within the samples of the data set (or each data fold) is much more interesting and should be reported instead.</li>
        <li>Looking at the supplementary material, I suspect that the F1 score is calculated at the very end as the harmonic mean of average precision and average recall. Please check this, because this approach leads to overly high F1 scores – you should calculate F1 individually for every phase and every sample (= video) in the dataset and average over phases and samples afterwards.</li>
        <li>I think it would be good to clearly state that you reproduced the results of the previous methods on your dataset/ data split (this kind of benchmarking is also an important contribution) and add some more details on how you reproduced the results. The results of MTRLNet-CL are considerably worse than in the original paper – can you comment on reasons for that?</li>
      </ul>

      <p>Can you elaborate more on why adding the positional encoding deteriorates results? I feel that including information regarding the order of the video features should actually be important for a problem such as phase recognition.</p>

      <p>I think it would be interesting to additionally visualize the attention weights (complete matrix) in order to see which frames attend to which other frames specifically.</p>

      <p>I had to re-read section 2.2 a few times in order to understand that the “normalized” attention for frame j simply quantifies how much attention is being paid to this frame <em>on average</em>, by all frames i that are “allowed” to attend to this frame (i.e. M_ij = 1, which is the case if i &gt;= j).
I think it would help to clearly define A_ij and M_ij so that the calculation of n_j is easier to understand – for example: A_ij quantifies how much attention is being paid by frame i (query) to frame j (key) and M_ij = 0 if j &gt; i else 1 (because frame i can only attend to frame j if j &lt;= i)</p>

      <p>Typo: “potentially potentially” (page 6)</p>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>accept (8)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>novelty of the method and convincing evaluation results</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>1</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>5</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h3 id="review-3">Review #3</h3>

<ul>
  <li><strong>Please describe the contribution of the paper</strong>
    <blockquote>
      <p>The paper proposes to apply Transformer to tackle the surgical phase recognition task. Attention regularization is proposed to bypass relying on the low-confidence frames too much. Experiments on two datasets (one public, one in-house) are performed for validating the effectiveness of the method.</p>
    </blockquote>
  </li>
  <li><strong>Please list the main strengths of the paper; you should write about a novel formulation, an original way to use data, demonstration of clinical feasibility, a novel application, a particularly strong evaluation, or anything else that is a strong aspect of this work. Please provide details, for instance, if a method is novel, explain what aspect is novel and why this is interesting.</strong>
    <blockquote>
      <ul>
        <li>Applying the transformer to surgical phase recognition task</li>
        <li>Extensive experiments are performed and detailed ablation studies.</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please list the main weaknesses of the paper. Please provide details, for instance, if you think a method is not novel, explain why and provide a reference to prior work.</strong>
    <blockquote>
      <ul>
        <li>The performance improvement is sort of marginal.</li>
        <li>The results of two comparison methods [14] [15] are not consistent with their original paper. The fairness of such comparison needs to be verified.</li>
        <li>The method novelty is sort of weak, which mostly relied on the well-established transformer framework.</li>
        <li>Some notations are not clearly described in the Method Section, lead to the difficulty to understand the method.</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please rate the clarity and organization of this paper</strong>
    <blockquote>
      <p>Poor</p>
    </blockquote>
  </li>
  <li><strong>Please comment on the reproducibility of the paper. Note, that authors have filled out a reproducibility checklist upon submission. Please be aware that authors are not required to meet all criteria on the checklist - for instance, providing code and data is a plus, but not a requirement for acceptance</strong>
    <blockquote>
      <p>The reproducibility of the paper is satisfatory.</p>
    </blockquote>
  </li>
  <li><strong>Please provide detailed and constructive comments for the authors. Please also refer to our Reviewer’s guide on what makes a good review: <a href="https://miccai2021.org/en/REVIEWER-GUIDELINES.html">https://miccai2021.org/en/REVIEWER-GUIDELINES.html</a></strong>
    <blockquote>
      <p>Major:</p>
      <ul>
        <li>The method novelty is sort of weak. The paper is mostly based on the tranformer architecture, a well-established framework that recently widely is adapted for addressing various computer vision tasks. Another main contribution pointed out by authors, i.e., attention regularization, whose novelty is sort of weak, cannot support the paper to above the standard of MICCAI acceptance.</li>
        <li>Some notations are not clearly described, lead to the difficulty to understand the method, such as the meaning of M_ij in Sec 2.2, the definition of L_c in Sec 2.3.</li>
        <li>Inconsistent results of comparison method ‘ResLSTM’, MTRCNet-CL’. The results shown in Table 2 on Cholec80 dataset are not consistent with (quite lower than) the results reported in their original paper [14] and [15].</li>
        <li>For CSW dataset, why the results from ‘ResLSTM’ list, while ‘MTRCNet-CL’ not list?</li>
        <li>The result improvement is sort of incremental, with only 0.4%-1.2% increase in Acc and F1.</li>
        <li>How the frame-wise attention regularization (Sec2.2) affect the final performance? Cannot see the validation of this key component in the experiment part.
Minor:</li>
        <li>What does the ‘causal masking’ mean?</li>
        <li>What does VRAM mean?</li>
        <li>The language expression should be improved.</li>
      </ul>
    </blockquote>
  </li>
  <li><strong>Please state your overall opinion of the paper</strong>
    <blockquote>
      <p>probably reject (4)</p>
    </blockquote>
  </li>
  <li><strong>Please justify your recommendation. What were the major factors that led you to your overall score for this paper?</strong>
    <blockquote>
      <p>Marginal improvement with poor expression.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your review stack?</strong>
    <blockquote>
      <p>3</p>
    </blockquote>
  </li>
  <li><strong>Number of papers in your stack</strong>
    <blockquote>
      <p>4</p>
    </blockquote>
  </li>
  <li><strong>Reviewer confidence</strong>
    <blockquote>
      <p>Very confident</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<hr />
<h1 id="metareview-id">Meta-Review(s)</h1>

<h2 id="primary-meta-review">Primary Meta-Review</h2>
<ul>
  <li><strong>Please provide your assessment of this work, taking into account all reviews. Summarize the key strengths and weaknesses of the paper and justify your recommendation. In case you deviate from the reviewers’ recommendations, explain in detail the reasons why. In case of an invitation for rebuttal, clarify which points are important to address in the rebuttal.</strong>
    <blockquote>
      <p>The paper proposed to used transformer networks for the task of surgical phase recognition. The reviewers have raised several concerns related to the use of 5-fold cross validation over the standard Cholec80 split making the proposed method comparison difficult to other SOTA methods not reported. Moreover, 5-fold split detail is also missing. These needs to be clarified and justified explicitly. The reproduced 5-fold result of ResLSTM and MTRCNet-CL are considerably inconsistent with the original papers. Why is that the case? The authors should address the reviewers’ comments and should also high the key novelty of this work.</p>
    </blockquote>
  </li>
  <li><strong>What is the ranking of this paper in your stack? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>8</p>
    </blockquote>
  </li>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>The rebuttal addressed the main concerns. The provided experimental details and justifications must be included in the camera ready. All minor comments must all be addressed in the camera ready.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>8</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>

<h2 id="meta-review-2">Meta-Review #2</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>This paper studies an interesting problem of video-based surgical phase recognition, the technical novelty is relatively limited and the improvement over the existing method is not significant. In the authors’ rebuttal, the response to 5-fold cross-validation is not convincing. I believe in cross-validation, in each fold, one should use a different test set. This major concern has not been adequately addressed in the rebuttal. While I see some merits such as the visualization of the highest and lowest attention frames, I think the paper still needs to be further improved before publication.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Reject</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>12</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>
<h2 id="meta-review-3">Meta-Review #3</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>Agreeing with reviewer #4, the AC did not see sufficient technical novelties. The transformer architecture in Fig.1 is from an ad-hoc assemble, as described in Sec 2.1. The attention regularization in Eq.3 is not significant enough. From the experiments in Table 2, the improvement (+2.21% acc, +0.45% F1 on Cholec80; 0.68% acc, 1.26% F1 on CSW) seems quite minor. The variances of the fold-test are even higher than some of these improvement metrics.</p>

      <p>All reviewers raised the questions on the experiment comparisons. The same setup should be adopted with the original papers, for fair comparison. The inconsistent results reported in this paper and the original paper are concerns. New cross-fold comparisons with re-implemented codes can be the addition.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Reject</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>12</p>
    </blockquote>
  </li>
</ul>

<p><br /><br /></p>
<h2 id="meta-review-4">Meta-Review #4</h2>
<ul>
  <li><strong>Please provide your assessment of the paper taking all information into account, including rebuttal. Highlight the key strengths and weaknesses of the paper, clarify how you reconciled contrasting review comments and scores,  indicate if concerns were successfully addressed in the rebuttal, and provide a clear justification of your decision. If you disagree with some of the (meta)reviewer statements, you can indicate so in your meta-review. Please make sure that the authors, program chairs, and the public can understand the reason for your decision.</strong>
    <blockquote>
      <p>ACs had conflicting remarks for this paper. Therefore, the PCs assessed the paper reviews including meta-reviews, the rebuttal and the submission in more detail. It seems that remaining concerns on cross-validation may be based on a misunderstanding. PCs agree with the primary AC that the main concerns which were related to the cross-validation split and to the comparisons with state-of-the-art were adequately addressed in the rebuttal.</p>
    </blockquote>
  </li>
  <li><strong>After you have reviewed the rebuttal, please provide your final rating based on all reviews and the authors’ rebuttal.</strong>
    <blockquote>
      <p>Accept</p>
    </blockquote>
  </li>
  <li><strong>What is the rank of this paper among all your rebuttal papers? Use a number between 1 (best paper in your stack) and n (worst paper in your stack of n papers).</strong>
    <blockquote>
      <p>-</p>
    </blockquote>
  </li>
</ul>

<h2><br /><br /></h2>
<h1 id="authorFeedback-id">Author Feedback</h1>
<blockquote>
  <p>We would like to thank the reviewers for their supportive and constructive feedback. We would also like to thank them for acknowledging the attention regularization loss as a “novelty that extends the well-known transformer” architecture (R2). Further, we are pleased that our “visualization of the highest/lowest attention frames adds interest to the paper” (R1) which is solidified by a “comprehensive evaluation” (R2) through “extensive experiments” (R3).</p>

  <p>1) MR1, R1, R2 commented that details and motivation regarding the  5-fold cross validation could be provided as it is deviating from the standard Cholec80 split.
Since this dataset only has 80 videos, we believe it is important to perform cross-validation to ensure generalizability over data splits which we also think is a ‘reasonable’ (R2) decision. The paper introducing Cholec80 [12] also deployed 4-fold cross validation.
In this work we increased the number of videos in the validation set from 8 to 12, as we believed that 8 videos is not a big enough sample size to find the models that generalize best to the test set. For the same reason we also increased the number of training videos from 32 to 48. Among those 48 training and 12 validation videos we performed 5-fold cross validation.
Following all previous works [12,14,15,16] we kept an unseen test-set (in our case 20 videos) that was not part of the cross-validation and was used only for testing. In the test phase we used the best model of each cross-validation split and averaged the results of those 5 models on the unseen test set.
All the results we report in this work, including the baselines, were created using the same split and cross-validation approach. We will make sure to discuss this data split and motivation in the final version. Our code will also be made publicly available to allow easy reproducibility.</p>

  <p>For backward compatibility (R2), we ran the the original (32-8-40) data split of Cholec80 and the results are consistent, MTRCNet-CL: Accuracy (ACC): 84.53, Precision: 77.28, Recall: 78.10 and OperA: ACC: 89.96, Precision: 82.75, Recall: 84.45.</p>

  <p>2) In line with previous work published at MICCAI 2020 [16] which report 4% worse ACC for MTRCNet [15] in their evaluation, we also find MTRCNet-CL to be 4% inferior than reported in [15] as correctly indicated by MR1, R2, R4.
For the reproduction of MTRCNet-CL, we used the authors’ code available on [G1] to train a model with our data split along with all hyperparameters in [15].
For the calculation of the metrics we followed the standard paradigm in [12].
Note that the results reported for ResLSTM are consistent and even higher than the original paper [14] (original ACC in [14]: 86.4, reproduced ACC: 87.94).
Hence, we believe that our reproduction is fair.</p>

  <p>[G1] https://github.com/YuemingJin/MTRCNet-CL</p>

  <p>3) As R2 mentioned, the F1 we reported is the harmonic mean of the Precision and Recall calculated following [11,12]. This will be clarified in the final version.</p>

  <p>4) We thank for the valuable suggestion of R2 to optimize the understanding of the Normalized framewise attention section 2.2. R3 also commented on the clarity of this section. Hence, we will add the following addition to the paper: 
A_ij quantifies how much attention is being paid by frame i (query) to frame j (key). M_ij will be zero if the key index j is larger than the query index i as we want to restrict our model to only respect previous events in the video.
M_ij = 0 if j &gt; i else 1</p>

  <p>We believe that our work is a valuable contribution to the MICCAI Community as the visualisation of the highest and lowest attention frames enhanced by the proposed attention regularization extending the transformer architecture, opens a novel direction for surgical phase recognition.</p>

</blockquote>

<p><br /><br />
<a href=""><span style="color:#ff9900"><b>back to top</b></span></a></p>

<hr />


  </div>

  <div class="post-info">
    <!--
    <div class="post-date">
      Poster presentation date:  
      0457-12-31
      -->
      <!--
      
        ,
        updated at 
        0458-01-01
      
      .
      
    </div>
    -->
    <!--
    
    <div class="post-author">
      Author: Kitty K. Wong
    </div>
    
    -->
    <div class="post-categories">
      <span><b>Topic(s): </b></span>
      
      <a 
        href="kittywong/categories#Surgical Skill and Work Flow Analysis"
        class="post-category">
        Surgical Skill and Work Flow Analysis
      </a> |
      
      <a 
        href="kittywong/categories#Machine Learning - Attention models"
        class="post-category">
        Machine Learning - Attention models
      </a> |
      
      <a 
        href="kittywong/categories#Modalities - Video"
        class="post-category">
        Modalities - Video
      </a> |
      
    </div>
    <div class="post-tags">
      <!--<span>Author List</span>-->
      <span><b> Author(s): </b></span>
      
      <a href="kittywong/tags#Czempiel, Tobias"
        class="post-category">
        Czempiel, Tobias
      </a> |  
      
      <a href="kittywong/tags#Paschali, Magdalini"
        class="post-category">
        Paschali, Magdalini
      </a> |  
      
      <a href="kittywong/tags#Ostler, Daniel"
        class="post-category">
        Ostler, Daniel
      </a> |  
      
      <a href="kittywong/tags#Kim, Seong Tae"
        class="post-category">
        Kim, Seong Tae
      </a> |  
      
      <a href="kittywong/tags#Busam, Benjamin"
        class="post-category">
        Busam, Benjamin
      </a> |  
      
      <a href="kittywong/tags#Navab, Nassir"
        class="post-category">
        Navab, Nassir
      </a> |  
      
    </div>
    <div class="post-other">
      
      <div>
        <span><b>
          Next paper: 
        </b>
        </span>
        <a href="/0458/12/31/Paper0849">
          Surgical Workflow Anticipation using Instrument Interaction
        </a>
      </div>
      
      
      <div>
        <span><b>
          Previous paper: 
        </b>
        </span>
        <a href="/0456/12/31/Paper0184">
          Trans-SVNet: Accurate Phase Recognition from Surgical Videos via Hybrid Embedding Aggregation Transformer
        </a>
      </div>
      
    </div>
    
  </div>
</article>

      </main>
      <footer class="container-footer">
        <div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. Kitty K. Wong, The MICCAI Society
  </span>
</div>
<!--
<div class="footer-copyright">
  <span class="footer-copyright-text float-left">
    Copyright &copy; 2021. example.com.
  </span>
  <span class="footer-copyright-text float-right">
    Powered by <a href="https://jekyllrb.com/">Jekyll</a>, themed by <a href="https://github.com/ghosind/Jekyll-Paper-Github">Jekyll-Paper-Github</a>.
  </span>
</div>
-->

      </footer>
    </div>
  </body>
</html>
